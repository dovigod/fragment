(function(C,L){typeof exports=="object"&&typeof module<"u"?L(exports):typeof define=="function"&&define.amd?define(["exports"],L):(C=typeof globalThis<"u"?globalThis:C||self,L(C["fragment-wallet"]={}))})(this,function(C){var B0,U0,C0,Qe,ve,ke,L0,F0,D0,H0,$0,G0,_0,M0,K0,z0,V0,lt,Re,j0,Xt,Zr,W0,qt,Z0,Y0,ut,t0,ht,Gn,yt,_n,n0,gt,pt,Mn;"use strict";var Bs=Object.defineProperty;var Us=(C,L,z)=>L in C?Bs(C,L,{enumerable:!0,configurable:!0,writable:!0,value:z}):C[L]=z;var U=(C,L,z)=>(Us(C,typeof L!="symbol"?L+"":L,z),z),$n=(C,L,z)=>{if(!L.has(C))throw TypeError("Cannot "+z)};var T=(C,L,z)=>($n(C,L,"read from private field"),z?z.call(C):L.get(C)),O=(C,L,z)=>{if(L.has(C))throw TypeError("Cannot add the same private member more than once");L instanceof WeakSet?L.add(C):L.set(C,z)},A=(C,L,z,o0)=>($n(C,L,"write to private field"),o0?o0.call(C,z):L.set(C,z),z);var q=(C,L,z)=>($n(C,L,"access private method"),z);const L="6.6.3";function z(n,e,t){const c=e.split("|").map(a=>a.trim());for(let a=0;a<c.length;a++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof n===e)return}const r=new Error(`invalid value for type ${e}`);throw r.code="INVALID_ARGUMENT",r.argument=`value.${t}`,r.value=n,r}async function o0(n){const e=Object.keys(n);return(await Promise.all(e.map(c=>Promise.resolve(n[c])))).reduce((c,r,a)=>(c[e[a]]=r,c),{})}function ce(n,e,t){for(let c in e){let r=e[c];const a=t?t[c]:null;a&&z(r,a,c),Object.defineProperty(n,c,{enumerable:!0,value:r,writable:!1})}}function d0(n){if(n==null)return"null";if(Array.isArray(n))return"[ "+n.map(d0).join(", ")+" ]";if(n instanceof Uint8Array){const e="0123456789abcdef";let t="0x";for(let c=0;c<n.length;c++)t+=e[n[c]>>4],t+=e[n[c]&15];return t}if(typeof n=="object"&&typeof n.toJSON=="function")return d0(n.toJSON());switch(typeof n){case"boolean":case"symbol":return n.toString();case"bigint":return BigInt(n).toString();case"number":return n.toString();case"string":return JSON.stringify(n);case"object":{const e=Object.keys(n);return e.sort(),"{ "+e.map(t=>`${d0(t)}: ${d0(n[t])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Yr(n,e,t){{const r=[];if(t){if("message"in t||"code"in t||"name"in t)throw new Error(`value will overwrite populated values: ${d0(t)}`);for(const a in t){const x=t[a];r.push(a+"="+d0(x))}}r.push(`code=${e}`),r.push(`version=${L}`),r.length&&(n+=" ("+r.join(", ")+")")}let c;switch(e){case"INVALID_ARGUMENT":c=new TypeError(n);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":c=new RangeError(n);break;default:c=new Error(n)}return ce(c,{code:e}),t&&Object.assign(c,t),c}function N(n,e,t,c){if(!n)throw Yr(e,t,c)}function b(n,e,t,c){N(n,e,"INVALID_ARGUMENT",{argument:t,value:c})}const Xr=["NFD","NFC","NFKD","NFKC"].reduce((n,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"){const t=String.fromCharCode(233).normalize("NFD"),c=String.fromCharCode(101,769);if(t!==c)throw new Error("broken")}n.push(e)}catch{}return n},[]);function Kn(n){N(Xr.indexOf(n)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:n}})}function mt(n,e,t){if(t==null&&(t=""),n!==e){let c=t,r="new";t&&(c+=".",r+=" "+t),N(!1,`private constructor; use ${c}from* methods`,"UNSUPPORTED_OPERATION",{operation:r})}}function zn(n,e,t){if(n instanceof Uint8Array)return t?new Uint8Array(n):n;if(typeof n=="string"&&n.match(/^0x([0-9a-f][0-9a-f])*$/i)){const c=new Uint8Array((n.length-2)/2);let r=2;for(let a=0;a<c.length;a++)c[a]=parseInt(n.substring(r,r+2),16),r+=2;return c}b(!1,"invalid BytesLike value",e||"value",n)}function g(n,e){return zn(n,e,!1)}function Ve(n,e){return zn(n,e,!0)}function Be(n,e){return!(typeof n!="string"||!n.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&n.length!==2+2*e||e===!0&&n.length%2!==0)}function Vn(n){return Be(n,!0)||n instanceof Uint8Array}const jn="0123456789abcdef";function m(n){const e=g(n);let t="0x";for(let c=0;c<e.length;c++){const r=e[c];t+=jn[(r&240)>>4]+jn[r&15]}return t}function V(n){return"0x"+n.map(e=>m(e).substring(2)).join("")}function X0(n){return Be(n,!0)?(n.length-2)/2:g(n).length}function Qt(n,e,t){const c=g(n);return t!=null&&t>c.length&&N(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:c,length:c.length,offset:t}),m(c.slice(e??0,t??c.length))}function Jr(n,e,t){const c=g(n);N(e>=c.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(c),length:e,offset:e+1});const r=new Uint8Array(e);return r.fill(0),t?r.set(c,e-c.length):r.set(c,0),m(r)}function b0(n,e){return Jr(n,e,!0)}const en=BigInt(0),je=BigInt(1),l0=9007199254740991;function qr(n,e){let t=$(n,"value");const c=BigInt(me(e,"width")),r=je<<c-je;if(t<en){t=-t,N(t<=r,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:n});const a=(je<<c)-je;return(~t&a)+je}else N(t<r,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:n});return t}function Qr(n,e){const t=tn(n,"value"),c=BigInt(me(e,"bits"));return t&(je<<c)-je}function $(n,e){switch(typeof n){case"bigint":return n;case"number":return b(Number.isInteger(n),"underflow",e||"value",n),b(n>=-l0&&n<=l0,"overflow",e||"value",n),BigInt(n);case"string":try{if(n==="")throw new Error("empty string");return n[0]==="-"&&n[1]!=="-"?-BigInt(n.substring(1)):BigInt(n)}catch(t){b(!1,`invalid BigNumberish string: ${t.message}`,e||"value",n)}}b(!1,"invalid BigNumberish value",e||"value",n)}function tn(n,e){const t=$(n,e);return N(t>=en,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:n}),t}const Wn="0123456789abcdef";function Zn(n){if(n instanceof Uint8Array){let e="0x0";for(const t of n)e+=Wn[t>>4],e+=Wn[t&15];return BigInt(e)}return $(n)}function me(n,e){switch(typeof n){case"bigint":return b(n>=-l0&&n<=l0,"overflow",e||"value",n),Number(n);case"number":return b(Number.isInteger(n),"underflow",e||"value",n),b(n>=-l0&&n<=l0,"overflow",e||"value",n),n;case"string":try{if(n==="")throw new Error("empty string");return me(BigInt(n),e)}catch(t){b(!1,`invalid numeric string: ${t.message}`,e||"value",n)}}b(!1,"invalid numeric value",e||"value",n)}function u0(n,e){let c=tn(n,"value").toString(16);if(e==null)c.length%2&&(c="0"+c);else{const r=me(e,"width");for(N(r*2>=c.length,`value exceeds width (${r} bits)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:n});c.length<r*2;)c="0"+c}return"0x"+c}function re(n){const e=tn(n,"value");if(e===en)return new Uint8Array([]);let t=e.toString(16);t.length%2&&(t="0"+t);const c=new Uint8Array(t.length/2);for(let r=0;r<c.length;r++){const a=r*2;c[r]=parseInt(t.substring(a,a+2),16)}return c}function ea(n){let e=m(Vn(n)?n:re(n)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const nn="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";let wt=null;function ta(n){if(wt==null){wt={};for(let t=0;t<nn.length;t++)wt[nn[t]]=BigInt(t)}const e=wt[n];return b(e!=null,"invalid base58 value","letter",n),e}const na=BigInt(0),cn=BigInt(58);function ca(n){let e=Zn(g(n)),t="";for(;e;)t=nn[Number(e%cn)]+t,e/=cn;return t}function ra(n){let e=na;for(let t=0;t<n.length;t++)e*=cn,e+=ta(n[t]);return e}function We(n,e){e!=null&&(Kn(e),n=n.normalize(e));let t=[];for(let c=0;c<n.length;c++){const r=n.charCodeAt(c);if(r<128)t.push(r);else if(r<2048)t.push(r>>6|192),t.push(r&63|128);else if((r&64512)==55296){c++;const a=n.charCodeAt(c);b(c<n.length&&(a&64512)===56320,"invalid surrogate pair","str",n);const x=65536+((r&1023)<<10)+(a&1023);t.push(x>>18|240),t.push(x>>12&63|128),t.push(x>>6&63|128),t.push(x&63|128)}else t.push(r>>12|224),t.push(r>>6&63|128),t.push(r&63|128)}return new Uint8Array(t)}function aa(n){let e=n.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function Yn(n,e,t){let c=0;for(let r=0;r<t;r++)c=c*256+n[e+r];return c}function Xn(n,e,t,c){const r=[];for(;t<e+1+c;){const a=Jn(n,t);r.push(a.result),t+=a.consumed,N(t<=e+1+c,"child data too short","BUFFER_OVERRUN",{buffer:n,length:c,offset:e})}return{consumed:1+c,result:r}}function Jn(n,e){N(n.length!==0,"data too short","BUFFER_OVERRUN",{buffer:n,length:0,offset:1});const t=c=>{N(c<=n.length,"data short segment too short","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:c})};if(n[e]>=248){const c=n[e]-247;t(e+1+c);const r=Yn(n,e+1,c);return t(e+1+c+r),Xn(n,e,e+1+c,c+r)}else if(n[e]>=192){const c=n[e]-192;return t(e+1+c),Xn(n,e,e+1,c)}else if(n[e]>=184){const c=n[e]-183;t(e+1+c);const r=Yn(n,e+1,c);t(e+1+c+r);const a=m(n.slice(e+1+c,e+1+c+r));return{consumed:1+c+r,result:a}}else if(n[e]>=128){const c=n[e]-128;t(e+1+c);const r=m(n.slice(e+1,e+1+c));return{consumed:1+c,result:r}}return{consumed:1,result:aa(n[e])}}function rn(n){const e=g(n,"data"),t=Jn(e,0);return b(t.consumed===e.length,"unexpected junk after rlp payload","data",n),t.result}function qn(n){const e=[];for(;n;)e.unshift(n&255),n>>=8;return e}function Qn(n){if(Array.isArray(n)){let c=[];if(n.forEach(function(a){c=c.concat(Qn(a))}),c.length<=55)return c.unshift(192+c.length),c;const r=qn(c.length);return r.unshift(247+r.length),r.concat(c)}const e=Array.prototype.slice.call(g(n,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const t=qn(e.length);return t.unshift(183+t.length),t.concat(e)}const ec="0123456789abcdef";function At(n){let e="0x";for(const t of Qn(n))e+=ec[t>>4],e+=ec[t&15];return e}function xa(n){const e=g(n,"randomBytes");e[6]=e[6]&15|64,e[8]=e[8]&63|128;const t=m(e);return[t.substring(2,10),t.substring(10,14),t.substring(14,18),t.substring(18,22),t.substring(22,34)].join("-")}function an(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`Wrong positive integer: ${n}`)}function sa(n){if(typeof n!="boolean")throw new Error(`Expected boolean, not ${n}`)}function tc(n,...e){if(!(n instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(n.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${n.length}`)}function ia(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");an(n.outputLen),an(n.blockLen)}function fa(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function oa(n,e){tc(n);const t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const H={number:an,bool:sa,bytes:tc,hash:ia,exists:fa,output:oa};/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Et=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),It=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),we=(n,e)=>n<<32-e|n>>>e;if(!(new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68))throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));const da=async()=>{};async function nc(n,e,t){let c=Date.now();for(let r=0;r<n;r++){t(r);const a=Date.now()-c;a>=0&&a<e||(await da(),c+=a)}}function ba(n){if(typeof n!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof n}`);return new TextEncoder().encode(n)}function Ze(n){if(typeof n=="string"&&(n=ba(n)),!(n instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof n})`);return n}class St{clone(){return this._cloneInto()}}const la=n=>Object.prototype.toString.call(n)==="[object Object]"&&n.constructor===Object;function cc(n,e){if(e!==void 0&&(typeof e!="object"||!la(e)))throw new TypeError("Options should be object or undefined");return Object.assign(n,e)}function h0(n){const e=c=>n().update(Ze(c)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function ua(n){const e=(c,r)=>n(r).update(Ze(c)).digest(),t=n({});return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=c=>n(c),e}class rc extends St{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,H.hash(e);const c=Ze(t);if(this.iHash=e.create(),!(this.iHash instanceof St))throw new TypeError("Expected instance of class which extends utils.Hash");const r=this.blockLen=this.iHash.blockLen;this.outputLen=this.iHash.outputLen;const a=new Uint8Array(r);a.set(c.length>this.iHash.blockLen?e.create().update(c).digest():c);for(let x=0;x<a.length;x++)a[x]^=54;this.iHash.update(a),this.oHash=e.create();for(let x=0;x<a.length;x++)a[x]^=106;this.oHash.update(a),a.fill(0)}update(e){return H.exists(this),this.iHash.update(e),this}digestInto(e){H.exists(this),H.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:c,finished:r,destroyed:a,blockLen:x,outputLen:s}=this;return e=e,e.finished=r,e.destroyed=a,e.blockLen=x,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=c._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const xn=(n,e,t)=>new rc(n,e).update(t).digest();xn.create=(n,e)=>new rc(n,e);function ha(n,e,t,c){H.hash(n);const r=cc({dkLen:32,asyncTick:10},c),{c:a,dkLen:x,asyncTick:s}=r;if(H.number(a),H.number(x),H.number(s),a<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const i=Ze(e),f=Ze(t),o=new Uint8Array(x),d=xn.create(n,i),l=d._cloneInto().update(f);return{c:a,dkLen:x,asyncTick:s,DK:o,PRF:d,PRFSalt:l}}function ya(n,e,t,c,r){return n.destroy(),e.destroy(),c&&c.destroy(),r.fill(0),t}function sn(n,e,t,c){const{c:r,dkLen:a,DK:x,PRF:s,PRFSalt:i}=ha(n,e,t,c);let f;const o=new Uint8Array(4),d=It(o),l=new Uint8Array(s.outputLen);for(let u=1,y=0;y<a;u++,y+=s.outputLen){const p=x.subarray(y,y+s.outputLen);d.setInt32(0,u,!1),(f=i._cloneInto(f)).update(o).digestInto(l),p.set(l.subarray(0,p.length));for(let I=1;I<r;I++){s._cloneInto(f).update(l).digestInto(l);for(let S=0;S<p.length;S++)p[S]^=l[S]}}return ya(s,i,x,f,l)}function pa(n,e,t,c){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,c);const r=BigInt(32),a=BigInt(4294967295),x=Number(t>>r&a),s=Number(t&a),i=c?4:0,f=c?0:4;n.setUint32(e+i,x,c),n.setUint32(e+f,s,c)}class fn extends St{constructor(e,t,c,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=c,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=It(this.buffer)}update(e){H.exists(this);const{view:t,buffer:c,blockLen:r}=this;e=Ze(e);const a=e.length;for(let x=0;x<a;){const s=Math.min(r-this.pos,a-x);if(s===r){const i=It(e);for(;r<=a-x;x+=r)this.process(i,x);continue}c.set(e.subarray(x,x+s),this.pos),this.pos+=s,x+=s,this.pos===r&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){H.exists(this),H.output(e,this),this.finished=!0;const{buffer:t,view:c,blockLen:r,isLE:a}=this;let{pos:x}=this;t[x++]=128,this.buffer.subarray(x).fill(0),this.padOffset>r-x&&(this.process(c,0),x=0);for(let i=x;i<r;i++)t[i]=0;pa(c,r-8,BigInt(this.length*8),a),this.process(c,0);const s=It(e);this.get().forEach((i,f)=>s.setUint32(4*f,i,a))}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const c=e.slice(0,t);return this.destroy(),c}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:c,length:r,finished:a,destroyed:x,pos:s}=this;return e.length=r,e.pos=s,e.finished=a,e.destroyed=x,r%t&&e.buffer.set(c),e}}const ga=(n,e,t)=>n&e^~n&t,ma=(n,e,t)=>n&e^n&t^e&t,wa=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ue=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ce=new Uint32Array(64);class Aa extends fn{constructor(){super(64,32,8,!1),this.A=Ue[0]|0,this.B=Ue[1]|0,this.C=Ue[2]|0,this.D=Ue[3]|0,this.E=Ue[4]|0,this.F=Ue[5]|0,this.G=Ue[6]|0,this.H=Ue[7]|0}get(){const{A:e,B:t,C:c,D:r,E:a,F:x,G:s,H:i}=this;return[e,t,c,r,a,x,s,i]}set(e,t,c,r,a,x,s,i){this.A=e|0,this.B=t|0,this.C=c|0,this.D=r|0,this.E=a|0,this.F=x|0,this.G=s|0,this.H=i|0}process(e,t){for(let d=0;d<16;d++,t+=4)Ce[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const l=Ce[d-15],u=Ce[d-2],y=we(l,7)^we(l,18)^l>>>3,p=we(u,17)^we(u,19)^u>>>10;Ce[d]=p+Ce[d-7]+y+Ce[d-16]|0}let{A:c,B:r,C:a,D:x,E:s,F:i,G:f,H:o}=this;for(let d=0;d<64;d++){const l=we(s,6)^we(s,11)^we(s,25),u=o+l+ga(s,i,f)+wa[d]+Ce[d]|0,p=(we(c,2)^we(c,13)^we(c,22))+ma(c,r,a)|0;o=f,f=i,i=s,s=x+u|0,x=a,a=r,r=c,c=u+p|0}c=c+this.A|0,r=r+this.B|0,a=a+this.C|0,x=x+this.D|0,s=s+this.E|0,i=i+this.F|0,f=f+this.G|0,o=o+this.H|0,this.set(c,r,a,x,s,i,f,o)}roundClean(){Ce.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const J0=h0(()=>new Aa),Pt=BigInt(2**32-1),on=BigInt(32);function ac(n,e=!1){return e?{h:Number(n&Pt),l:Number(n>>on&Pt)}:{h:Number(n>>on&Pt)|0,l:Number(n&Pt)|0}}function Ea(n,e=!1){let t=new Uint32Array(n.length),c=new Uint32Array(n.length);for(let r=0;r<n.length;r++){const{h:a,l:x}=ac(n[r],e);[t[r],c[r]]=[a,x]}return[t,c]}const Ia=(n,e)=>BigInt(n>>>0)<<on|BigInt(e>>>0),Sa=(n,e,t)=>n>>>t,Pa=(n,e,t)=>n<<32-t|e>>>t,Ta=(n,e,t)=>n>>>t|e<<32-t,Na=(n,e,t)=>n<<32-t|e>>>t,va=(n,e,t)=>n<<64-t|e>>>t-32,ka=(n,e,t)=>n>>>t-32|e<<64-t,Ra=(n,e)=>e,Oa=(n,e)=>n,Ba=(n,e,t)=>n<<t|e>>>32-t,Ua=(n,e,t)=>e<<t|n>>>32-t,Ca=(n,e,t)=>e<<t-32|n>>>64-t,La=(n,e,t)=>n<<t-32|e>>>64-t;function Fa(n,e,t,c){const r=(e>>>0)+(c>>>0);return{h:n+t+(r/2**32|0)|0,l:r|0}}const E={fromBig:ac,split:Ea,toBig:Ia,shrSH:Sa,shrSL:Pa,rotrSH:Ta,rotrSL:Na,rotrBH:va,rotrBL:ka,rotr32H:Ra,rotr32L:Oa,rotlSH:Ba,rotlSL:Ua,rotlBH:Ca,rotlBL:La,add:Fa,add3L:(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),add3H:(n,e,t,c)=>e+t+c+(n/2**32|0)|0,add4L:(n,e,t,c)=>(n>>>0)+(e>>>0)+(t>>>0)+(c>>>0),add4H:(n,e,t,c,r)=>e+t+c+r+(n/2**32|0)|0,add5H:(n,e,t,c,r,a)=>e+t+c+r+a+(n/2**32|0)|0,add5L:(n,e,t,c,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(c>>>0)+(r>>>0)},[Da,Ha]=E.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))),Le=new Uint32Array(80),Fe=new Uint32Array(80);class dn extends fn{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:c,Bl:r,Ch:a,Cl:x,Dh:s,Dl:i,Eh:f,El:o,Fh:d,Fl:l,Gh:u,Gl:y,Hh:p,Hl:I}=this;return[e,t,c,r,a,x,s,i,f,o,d,l,u,y,p,I]}set(e,t,c,r,a,x,s,i,f,o,d,l,u,y,p,I){this.Ah=e|0,this.Al=t|0,this.Bh=c|0,this.Bl=r|0,this.Ch=a|0,this.Cl=x|0,this.Dh=s|0,this.Dl=i|0,this.Eh=f|0,this.El=o|0,this.Fh=d|0,this.Fl=l|0,this.Gh=u|0,this.Gl=y|0,this.Hh=p|0,this.Hl=I|0}process(e,t){for(let w=0;w<16;w++,t+=4)Le[w]=e.getUint32(t),Fe[w]=e.getUint32(t+=4);for(let w=16;w<80;w++){const K=Le[w-15]|0,P=Fe[w-15]|0,Z=E.rotrSH(K,P,1)^E.rotrSH(K,P,8)^E.shrSH(K,P,7),ne=E.rotrSL(K,P,1)^E.rotrSL(K,P,8)^E.shrSL(K,P,7),Y=Le[w-2]|0,X=Fe[w-2]|0,de=E.rotrSH(Y,X,19)^E.rotrBH(Y,X,61)^E.shrSH(Y,X,6),pe=E.rotrSL(Y,X,19)^E.rotrBL(Y,X,61)^E.shrSL(Y,X,6),be=E.add4L(ne,pe,Fe[w-7],Fe[w-16]),ge=E.add4H(be,Z,de,Le[w-7],Le[w-16]);Le[w]=ge|0,Fe[w]=be|0}let{Ah:c,Al:r,Bh:a,Bl:x,Ch:s,Cl:i,Dh:f,Dl:o,Eh:d,El:l,Fh:u,Fl:y,Gh:p,Gl:I,Hh:S,Hl:F}=this;for(let w=0;w<80;w++){const K=E.rotrSH(d,l,14)^E.rotrSH(d,l,18)^E.rotrBH(d,l,41),P=E.rotrSL(d,l,14)^E.rotrSL(d,l,18)^E.rotrBL(d,l,41),Z=d&u^~d&p,ne=l&y^~l&I,Y=E.add5L(F,P,ne,Ha[w],Fe[w]),X=E.add5H(Y,S,K,Z,Da[w],Le[w]),de=Y|0,pe=E.rotrSH(c,r,28)^E.rotrBH(c,r,34)^E.rotrBH(c,r,39),be=E.rotrSL(c,r,28)^E.rotrBL(c,r,34)^E.rotrBL(c,r,39),ge=c&a^c&s^a&s,Oe=r&x^r&i^x&i;S=p|0,F=I|0,p=u|0,I=y|0,u=d|0,y=l|0,{h:d,l}=E.add(f|0,o|0,X|0,de|0),f=s|0,o=i|0,s=a|0,i=x|0,a=c|0,x=r|0;const Se=E.add3L(de,be,Oe);c=E.add3H(Se,X,pe,ge),r=Se|0}({h:c,l:r}=E.add(this.Ah|0,this.Al|0,c|0,r|0)),{h:a,l:x}=E.add(this.Bh|0,this.Bl|0,a|0,x|0),{h:s,l:i}=E.add(this.Ch|0,this.Cl|0,s|0,i|0),{h:f,l:o}=E.add(this.Dh|0,this.Dl|0,f|0,o|0),{h:d,l}=E.add(this.Eh|0,this.El|0,d|0,l|0),{h:u,l:y}=E.add(this.Fh|0,this.Fl|0,u|0,y|0),{h:p,l:I}=E.add(this.Gh|0,this.Gl|0,p|0,I|0),{h:S,l:F}=E.add(this.Hh|0,this.Hl|0,S|0,F|0),this.set(c,r,a,x,s,i,f,o,d,l,u,y,p,I,S,F)}roundClean(){Le.fill(0),Fe.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class $a extends dn{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class Ga extends dn{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const bn=h0(()=>new dn);h0(()=>new $a),h0(()=>new Ga);function _a(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const xc=_a(),sc=xc.crypto||xc.msCrypto;function Ma(n){switch(n){case"sha256":return J0.create();case"sha512":return bn.create()}b(!1,"invalid hashing algorithm name","algorithm",n)}function Ka(n,e){const t={sha256:J0,sha512:bn}[n];return b(t!=null,"invalid hmac algorithm","algorithm",n),xn.create(t,e)}function za(n,e,t,c,r){const a={sha256:J0,sha512:bn}[r];return b(a!=null,"invalid pbkdf2 algorithm","algorithm",r),sn(a,n,e,{c:t,dkLen:c})}function Va(n){N(sc!=null,"platform does not support secure random numbers","UNSUPPORTED_OPERATION",{operation:"randomBytes"}),b(Number.isInteger(n)&&n>0&&n<=1024,"invalid length","length",n);const e=new Uint8Array(n);return sc.getRandomValues(e),e}let ic=!1;const fc=function(n,e,t){return Ka(n,e).update(t).digest()};let oc=fc;function Ye(n,e,t){const c=g(e,"key"),r=g(t,"data");return m(oc(n,c,r))}Ye._=fc,Ye.lock=function(){ic=!0},Ye.register=function(n){if(ic)throw new Error("computeHmac is locked");oc=n},Object.freeze(Ye);const[dc,bc,lc]=[[],[],[]],ja=BigInt(0),q0=BigInt(1),Wa=BigInt(2),Za=BigInt(7),Ya=BigInt(256),Xa=BigInt(113);for(let n=0,e=q0,t=1,c=0;n<24;n++){[t,c]=[c,(2*t+3*c)%5],dc.push(2*(5*c+t)),bc.push((n+1)*(n+2)/2%64);let r=ja;for(let a=0;a<7;a++)e=(e<<q0^(e>>Za)*Xa)%Ya,e&Wa&&(r^=q0<<(q0<<BigInt(a))-q0);lc.push(r)}const[Ja,qa]=E.split(lc,!0),uc=(n,e,t)=>t>32?E.rotlBH(n,e,t):E.rotlSH(n,e,t),hc=(n,e,t)=>t>32?E.rotlBL(n,e,t):E.rotlSL(n,e,t);function Qa(n,e=24){const t=new Uint32Array(10);for(let c=24-e;c<24;c++){for(let x=0;x<10;x++)t[x]=n[x]^n[x+10]^n[x+20]^n[x+30]^n[x+40];for(let x=0;x<10;x+=2){const s=(x+8)%10,i=(x+2)%10,f=t[i],o=t[i+1],d=uc(f,o,1)^t[s],l=hc(f,o,1)^t[s+1];for(let u=0;u<50;u+=10)n[x+u]^=d,n[x+u+1]^=l}let r=n[2],a=n[3];for(let x=0;x<24;x++){const s=bc[x],i=uc(r,a,s),f=hc(r,a,s),o=dc[x];r=n[o],a=n[o+1],n[o]=i,n[o+1]=f}for(let x=0;x<50;x+=10){for(let s=0;s<10;s++)t[s]=n[x+s];for(let s=0;s<10;s++)n[x+s]^=~t[(s+2)%10]&t[(s+4)%10]}n[0]^=Ja[c],n[1]^=qa[c]}t.fill(0)}class Tt extends St{constructor(e,t,c,r=!1,a=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=c,this.enableXOF=r,this.rounds=a,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,H.number(c),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Et(this.state)}keccak(){Qa(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){H.exists(this);const{blockLen:t,state:c}=this;e=Ze(e);const r=e.length;for(let a=0;a<r;){const x=Math.min(t-this.pos,r-a);for(let s=0;s<x;s++)c[this.pos++]^=e[a++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:c,blockLen:r}=this;e[c]^=t,t&128&&c===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){H.exists(this,!1),H.bytes(e),this.finish();const t=this.state,{blockLen:c}=this;for(let r=0,a=e.length;r<a;){this.posOut>=c&&this.keccak();const x=Math.min(c-this.posOut,a-r);e.set(t.subarray(this.posOut,this.posOut+x),r),this.posOut+=x,r+=x}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return H.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(H.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:c,outputLen:r,rounds:a,enableXOF:x}=this;return e||(e=new Tt(t,c,r,x,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=c,e.outputLen=r,e.enableXOF=x,e.destroyed=this.destroyed,e}}const De=(n,e,t)=>h0(()=>new Tt(e,n,t));De(6,144,224/8),De(6,136,256/8),De(6,104,384/8),De(6,72,512/8),De(1,144,224/8);const ex=De(1,136,256/8);De(1,104,384/8),De(1,72,512/8);const yc=(n,e,t)=>ua((c={})=>new Tt(e,n,c.dkLen===void 0?t:c.dkLen,!0));yc(31,168,128/8),yc(31,136,256/8);let pc=!1;const gc=function(n){return ex(n)};let mc=gc;function G(n){const e=g(n,"data");return m(mc(e))}G._=gc,G.lock=function(){pc=!0},G.register=function(n){if(pc)throw new TypeError("keccak256 is locked");mc=n},Object.freeze(G);const tx=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),wc=Uint8Array.from({length:16},(n,e)=>e),nx=wc.map(n=>(9*n+5)%16);let ln=[wc],un=[nx];for(let n=0;n<4;n++)for(let e of[ln,un])e.push(e[n].map(t=>tx[t]));const Ac=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(n=>new Uint8Array(n)),cx=ln.map((n,e)=>n.map(t=>Ac[e][t])),rx=un.map((n,e)=>n.map(t=>Ac[e][t])),ax=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),xx=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),Nt=(n,e)=>n<<e|n>>>32-e;function Ec(n,e,t,c){return n===0?e^t^c:n===1?e&t|~e&c:n===2?(e|~t)^c:n===3?e&c|t&~c:e^(t|~c)}const vt=new Uint32Array(16);class sx extends fn{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:t,h2:c,h3:r,h4:a}=this;return[e,t,c,r,a]}set(e,t,c,r,a){this.h0=e|0,this.h1=t|0,this.h2=c|0,this.h3=r|0,this.h4=a|0}process(e,t){for(let u=0;u<16;u++,t+=4)vt[u]=e.getUint32(t,!0);let c=this.h0|0,r=c,a=this.h1|0,x=a,s=this.h2|0,i=s,f=this.h3|0,o=f,d=this.h4|0,l=d;for(let u=0;u<5;u++){const y=4-u,p=ax[u],I=xx[u],S=ln[u],F=un[u],w=cx[u],K=rx[u];for(let P=0;P<16;P++){const Z=Nt(c+Ec(u,a,s,f)+vt[S[P]]+p,w[P])+d|0;c=d,d=f,f=Nt(s,10)|0,s=a,a=Z}for(let P=0;P<16;P++){const Z=Nt(r+Ec(y,x,i,o)+vt[F[P]]+I,K[P])+l|0;r=l,l=o,o=Nt(i,10)|0,i=x,x=Z}}this.set(this.h1+s+o|0,this.h2+f+l|0,this.h3+d+r|0,this.h4+c+x|0,this.h0+a+i|0)}roundClean(){vt.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const ix=h0(()=>new sx);let Ic=!1;const Sc=function(n){return ix(n)};let Pc=Sc;function y0(n){const e=g(n,"data");return m(Pc(e))}y0._=Sc,y0.lock=function(){Ic=!0},y0.register=function(n){if(Ic)throw new TypeError("ripemd160 is locked");Pc=n},Object.freeze(y0);let Tc=!1;const Nc=function(n,e,t,c,r){return za(n,e,t,c,r)};let vc=Nc;function He(n,e,t,c,r){const a=g(n,"password"),x=g(e,"salt");return m(vc(a,x,t,c,r))}He._=Nc,He.lock=function(){Tc=!0},He.register=function(n){if(Tc)throw new Error("pbkdf2 is locked");vc=n},Object.freeze(He);let kc=!1;const Rc=function(n){return new Uint8Array(Va(n))};let Oc=Rc;function Pe(n){return Oc(n)}Pe._=Rc,Pe.lock=function(){kc=!0},Pe.register=function(n){if(kc)throw new Error("randomBytes is locked");Oc=n},Object.freeze(Pe);const k=(n,e)=>n<<e|n>>>32-e;function Bc(n,e,t,c,r,a){let x=n[e++]^t[c++],s=n[e++]^t[c++],i=n[e++]^t[c++],f=n[e++]^t[c++],o=n[e++]^t[c++],d=n[e++]^t[c++],l=n[e++]^t[c++],u=n[e++]^t[c++],y=n[e++]^t[c++],p=n[e++]^t[c++],I=n[e++]^t[c++],S=n[e++]^t[c++],F=n[e++]^t[c++],w=n[e++]^t[c++],K=n[e++]^t[c++],P=n[e++]^t[c++],Z=x,ne=s,Y=i,X=f,de=o,pe=d,be=l,ge=u,Oe=y,Se=p,r0=I,a0=S,x0=F,s0=w,i0=K,f0=P;for(let Wr=0;Wr<8;Wr+=2)de^=k(Z+x0|0,7),Oe^=k(de+Z|0,9),x0^=k(Oe+de|0,13),Z^=k(x0+Oe|0,18),Se^=k(pe+ne|0,7),s0^=k(Se+pe|0,9),ne^=k(s0+Se|0,13),pe^=k(ne+s0|0,18),i0^=k(r0+be|0,7),Y^=k(i0+r0|0,9),be^=k(Y+i0|0,13),r0^=k(be+Y|0,18),X^=k(f0+a0|0,7),ge^=k(X+f0|0,9),a0^=k(ge+X|0,13),f0^=k(a0+ge|0,18),ne^=k(Z+X|0,7),Y^=k(ne+Z|0,9),X^=k(Y+ne|0,13),Z^=k(X+Y|0,18),be^=k(pe+de|0,7),ge^=k(be+pe|0,9),de^=k(ge+be|0,13),pe^=k(de+ge|0,18),a0^=k(r0+Se|0,7),Oe^=k(a0+r0|0,9),Se^=k(Oe+a0|0,13),r0^=k(Se+Oe|0,18),x0^=k(f0+i0|0,7),s0^=k(x0+f0|0,9),i0^=k(s0+x0|0,13),f0^=k(i0+s0|0,18);r[a++]=x+Z|0,r[a++]=s+ne|0,r[a++]=i+Y|0,r[a++]=f+X|0,r[a++]=o+de|0,r[a++]=d+pe|0,r[a++]=l+be|0,r[a++]=u+ge|0,r[a++]=y+Oe|0,r[a++]=p+Se|0,r[a++]=I+r0|0,r[a++]=S+a0|0,r[a++]=F+x0|0,r[a++]=w+s0|0,r[a++]=K+i0|0,r[a++]=P+f0|0}function p0(n,e,t,c,r){let a=c+0,x=c+16*r;for(let s=0;s<16;s++)t[x+s]=n[e+(2*r-1)*16+s];for(let s=0;s<r;s++,a+=16,e+=16)Bc(t,x,n,e,t,a),s>0&&(x+=16),Bc(t,a,n,e+=16,t,x)}function Uc(n,e,t){const c=cc({dkLen:32,asyncTick:10,maxmem:1073742848},t),{N:r,r:a,p:x,dkLen:s,asyncTick:i,maxmem:f,onProgress:o}=c;if(H.number(r),H.number(a),H.number(x),H.number(s),H.number(i),H.number(f),o!==void 0&&typeof o!="function")throw new Error("progressCb should be function");const d=128*a,l=d/4;if(r<=1||r&r-1||r>=2**(d/8)||r>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(x<0||x>(2**32-1)*32/d)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(s<0||s>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");const u=d*(r+x);if(u>f)throw new Error(`Scrypt: parameters too large, ${u} (128 * r * (N + p)) > ${f} (maxmem)`);const y=sn(J0,n,e,{c:1,dkLen:d*x}),p=Et(y),I=Et(new Uint8Array(d*r)),S=Et(new Uint8Array(d));let F=()=>{};if(o){const w=2*r*x,K=Math.max(Math.floor(w/1e4),1);let P=0;F=()=>{P++,o&&(!(P%K)||P===w)&&o(P/w)}}return{N:r,r:a,p:x,dkLen:s,blockSize32:l,V:I,B32:p,B:y,tmp:S,blockMixCb:F,asyncTick:i}}function Cc(n,e,t,c,r){const a=sn(J0,n,t,{c:1,dkLen:e});return t.fill(0),c.fill(0),r.fill(0),a}function fx(n,e,t){const{N:c,r,p:a,dkLen:x,blockSize32:s,V:i,B32:f,B:o,tmp:d,blockMixCb:l}=Uc(n,e,t);for(let u=0;u<a;u++){const y=s*u;for(let p=0;p<s;p++)i[p]=f[y+p];for(let p=0,I=0;p<c-1;p++)p0(i,I,i,I+=s,r),l();p0(i,(c-1)*s,f,y,r),l();for(let p=0;p<c;p++){const I=f[y+s-16]%c;for(let S=0;S<s;S++)d[S]=f[y+S]^i[I*s+S];p0(d,0,f,y,r),l()}}return Cc(n,x,o,i,d)}async function ox(n,e,t){const{N:c,r,p:a,dkLen:x,blockSize32:s,V:i,B32:f,B:o,tmp:d,blockMixCb:l,asyncTick:u}=Uc(n,e,t);for(let y=0;y<a;y++){const p=s*y;for(let S=0;S<s;S++)i[S]=f[p+S];let I=0;await nc(c-1,u,S=>{p0(i,I,i,I+=s,r),l()}),p0(i,(c-1)*s,f,p,r),l(),await nc(c,u,S=>{const F=f[p+s-16]%c;for(let w=0;w<s;w++)d[w]=f[p+w]^i[F*s+w];p0(d,0,f,p,r),l()})}return Cc(n,x,o,i,d)}let Lc=!1,Fc=!1;const Dc=async function(n,e,t,c,r,a,x){return await ox(n,e,{N:t,r:c,p:r,dkLen:a,onProgress:x})},Hc=function(n,e,t,c,r,a){return fx(n,e,{N:t,r:c,p:r,dkLen:a})};let $c=Dc,Gc=Hc;async function g0(n,e,t,c,r,a,x){const s=g(n,"passwd"),i=g(e,"salt");return m(await $c(s,i,t,c,r,a,x))}g0._=Dc,g0.lock=function(){Fc=!0},g0.register=function(n){if(Fc)throw new Error("scrypt is locked");$c=n},Object.freeze(g0);function m0(n,e,t,c,r,a){const x=g(n,"passwd"),s=g(e,"salt");return m(Gc(x,s,t,c,r,a))}m0._=Hc,m0.lock=function(){Lc=!0},m0.register=function(n){if(Lc)throw new Error("scryptSync is locked");Gc=n},Object.freeze(m0);const _c=function(n){return Ma("sha256").update(n).digest()};let Mc=_c,Kc=!1;function le(n){const e=g(n,"data");return m(Mc(e))}le._=_c,le.lock=function(){Kc=!0},le.register=function(n){if(Kc)throw new Error("sha256 is locked");Mc=n},Object.freeze(le),Object.freeze(le);const dx=Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}));/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const v=BigInt(0),D=BigInt(1),$e=BigInt(2),Q0=BigInt(3),zc=BigInt(8),_=Object.freeze({a:v,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:D,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),Vc=(n,e)=>(n+e/$e)/e,kt={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(n){const{n:e}=_,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),c=-D*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),r=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=t,x=BigInt("0x100000000000000000000000000000000"),s=Vc(a*n,e),i=Vc(-c*n,e);let f=h(n-s*t-i*r,e),o=h(-s*c-i*a,e);const d=f>x,l=o>x;if(d&&(f=e-f),l&&(o=e-o),f>x||o>x)throw new Error("splitScalarEndo: Endomorphism failed, k="+n);return{k1neg:d,k1:f,k2neg:l,k2:o}}},ue=32,w0=32,bx=32,Rt=ue+1,Ot=2*ue+1;function jc(n){const{a:e,b:t}=_,c=h(n*n),r=h(c*n);return h(r+e*n+t)}const Bt=_.a===v;class Wc extends Error{constructor(e){super(e)}}function Zc(n){if(!(n instanceof R))throw new TypeError("JacobianPoint expected")}class R{constructor(e,t,c){this.x=e,this.y=t,this.z=c}static fromAffine(e){if(!(e instanceof B))throw new TypeError("JacobianPoint#fromAffine: expected Point");return e.equals(B.ZERO)?R.ZERO:new R(e.x,e.y,D)}static toAffineBatch(e){const t=px(e.map(c=>c.z));return e.map((c,r)=>c.toAffine(t[r]))}static normalizeZ(e){return R.toAffineBatch(e).map(R.fromAffine)}equals(e){Zc(e);const{x:t,y:c,z:r}=this,{x:a,y:x,z:s}=e,i=h(r*r),f=h(s*s),o=h(t*f),d=h(a*i),l=h(h(c*s)*f),u=h(h(x*r)*i);return o===d&&l===u}negate(){return new R(this.x,h(-this.y),this.z)}double(){const{x:e,y:t,z:c}=this,r=h(e*e),a=h(t*t),x=h(a*a),s=e+a,i=h($e*(h(s*s)-r-x)),f=h(Q0*r),o=h(f*f),d=h(o-$e*i),l=h(f*(i-d)-zc*x),u=h($e*t*c);return new R(d,l,u)}add(e){Zc(e);const{x:t,y:c,z:r}=this,{x:a,y:x,z:s}=e;if(a===v||x===v)return this;if(t===v||c===v)return e;const i=h(r*r),f=h(s*s),o=h(t*f),d=h(a*i),l=h(h(c*s)*f),u=h(h(x*r)*i),y=h(d-o),p=h(u-l);if(y===v)return p===v?this.double():R.ZERO;const I=h(y*y),S=h(y*I),F=h(o*I),w=h(p*p-S-$e*F),K=h(p*(F-w)-l*S),P=h(r*s*y);return new R(w,K,P)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){const t=R.ZERO;if(typeof e=="bigint"&&e===v)return t;let c=Jc(e);if(c===D)return this;if(!Bt){let d=t,l=this;for(;c>v;)c&D&&(d=d.add(l)),l=l.double(),c>>=D;return d}let{k1neg:r,k1:a,k2neg:x,k2:s}=kt.splitScalar(c),i=t,f=t,o=this;for(;a>v||s>v;)a&D&&(i=i.add(o)),s&D&&(f=f.add(o)),o=o.double(),a>>=D,s>>=D;return r&&(i=i.negate()),x&&(f=f.negate()),f=new R(h(f.x*kt.beta),f.y,f.z),i.add(f)}precomputeWindow(e){const t=Bt?128/e+1:256/e+1,c=[];let r=this,a=r;for(let x=0;x<t;x++){a=r,c.push(a);for(let s=1;s<2**(e-1);s++)a=a.add(r),c.push(a);r=a.double()}return c}wNAF(e,t){!t&&this.equals(R.BASE)&&(t=B.BASE);const c=t&&t._WINDOW_SIZE||1;if(256%c)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let r=t&&hn.get(t);r||(r=this.precomputeWindow(c),t&&c!==1&&(r=R.normalizeZ(r),hn.set(t,r)));let a=R.ZERO,x=R.BASE;const s=1+(Bt?128/c:256/c),i=2**(c-1),f=BigInt(2**c-1),o=2**c,d=BigInt(c);for(let l=0;l<s;l++){const u=l*i;let y=Number(e&f);e>>=d,y>i&&(y-=o,e+=D);const p=u,I=u+Math.abs(y)-1,S=l%2!==0,F=y<0;y===0?x=x.add(Ut(S,r[p])):a=a.add(Ut(F,r[I]))}return{p:a,f:x}}multiply(e,t){let c=Jc(e),r,a;if(Bt){const{k1neg:x,k1:s,k2neg:i,k2:f}=kt.splitScalar(c);let{p:o,f:d}=this.wNAF(s,t),{p:l,f:u}=this.wNAF(f,t);o=Ut(x,o),l=Ut(i,l),l=new R(h(l.x*kt.beta),l.y,l.z),r=o.add(l),a=d.add(u)}else{const{p:x,f:s}=this.wNAF(c,t);r=x,a=s}return R.normalizeZ([r,a])[0]}toAffine(e){const{x:t,y:c,z:r}=this,a=this.equals(R.ZERO);e==null&&(e=a?zc:nt(r));const x=e,s=h(x*x),i=h(s*x),f=h(t*s),o=h(c*i),d=h(r*x);if(a)return B.ZERO;if(d!==D)throw new Error("invZ was invalid");return new B(f,o)}}R.BASE=new R(_.Gx,_.Gy,D),R.ZERO=new R(v,D,v);function Ut(n,e){const t=e.negate();return n?t:e}const hn=new WeakMap;class B{constructor(e,t){this.x=e,this.y=t}_setWindowSize(e){this._WINDOW_SIZE=e,hn.delete(this)}hasEvenY(){return this.y%$e===v}static fromCompressedHex(e){const t=e.length===32,c=_e(t?e:e.subarray(1));if(!pn(c))throw new Error("Point is not on curve");const r=jc(c);let a=yx(r);const x=(a&D)===D;t?x&&(a=h(-a)):(e[0]&1)===1!==x&&(a=h(-a));const s=new B(c,a);return s.assertValidity(),s}static fromUncompressedHex(e){const t=_e(e.subarray(1,ue+1)),c=_e(e.subarray(ue+1,ue*2+1)),r=new B(t,c);return r.assertValidity(),r}static fromHex(e){const t=tt(e),c=t.length,r=t[0];if(c===ue)return this.fromCompressedHex(t);if(c===Rt&&(r===2||r===3))return this.fromCompressedHex(t);if(c===Ot&&r===4)return this.fromUncompressedHex(t);throw new Error(`Point.fromHex: received invalid point. Expected 32-${Rt} compressed bytes or ${Ot} uncompressed bytes, not ${c}`)}static fromPrivateKey(e){return B.BASE.multiply(at(e))}static fromSignature(e,t,c){const{r,s:a}=Ex(t);if(![0,1,2,3].includes(c))throw new Error("Cannot recover: invalid recovery bit");const x=qc(tt(e)),{n:s}=_,i=c===2||c===3?r+s:r,f=nt(i,s),o=h(-x*f,s),d=h(a*f,s),l=c&1?"03":"02",u=B.fromHex(l+I0(i)),y=B.BASE.multiplyAndAddUnsafe(u,o,d);if(!y)throw new Error("Cannot recover signature: point at infinify");return y.assertValidity(),y}toRawBytes(e=!1){return Xe(this.toHex(e))}toHex(e=!1){const t=I0(this.x);return e?`${this.hasEvenY()?"02":"03"}${t}`:`04${t}${I0(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const e="Point is not on elliptic curve",{x:t,y:c}=this;if(!pn(t)||!pn(c))throw new Error(e);const r=h(c*c),a=jc(t);if(h(r-a)!==v)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new B(this.x,h(-this.y))}double(){return R.fromAffine(this).double().toAffine()}add(e){return R.fromAffine(this).add(R.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return R.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,t,c){const r=R.fromAffine(this),a=t===v||t===D||this!==B.BASE?r.multiplyUnsafe(t):r.multiply(t),x=R.fromAffine(e).multiplyUnsafe(c),s=a.add(x);return s.equals(R.ZERO)?void 0:s.toAffine()}}B.BASE=new B(_.Gx,_.Gy),B.ZERO=new B(v,v);function Yc(n){return Number.parseInt(n[0],16)>=8?"00"+n:n}function Xc(n){if(n.length<2||n[0]!==2)throw new Error(`Invalid signature integer tag: ${E0(n)}`);const e=n[1],t=n.subarray(2,e+2);if(!e||t.length!==e)throw new Error("Invalid signature integer: wrong length");if(t[0]===0&&t[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:_e(t),left:n.subarray(e+2)}}function lx(n){if(n.length<2||n[0]!=48)throw new Error(`Invalid signature tag: ${E0(n)}`);if(n[1]!==n.length-2)throw new Error("Invalid signature: incorrect length");const{data:e,left:t}=Xc(n.subarray(2)),{data:c,left:r}=Xc(t);if(r.length)throw new Error(`Invalid signature: left bytes after parsing: ${E0(r)}`);return{r:e,s:c}}let A0=class Jt{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromCompact(e){const t=e instanceof Uint8Array,c="Signature.fromCompact";if(typeof e!="string"&&!t)throw new TypeError(`${c}: Expected string or Uint8Array`);const r=t?E0(e):e;if(r.length!==128)throw new Error(`${c}: Expected 64-byte hex`);return new Jt(Ct(r.slice(0,64)),Ct(r.slice(64,128)))}static fromDER(e){const t=e instanceof Uint8Array;if(typeof e!="string"&&!t)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r:c,s:r}=lx(t?e:Xe(e));return new Jt(c,r)}static fromHex(e){return this.fromDER(e)}assertValidity(){const{r:e,s:t}=this;if(!rt(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!rt(t))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const e=_.n>>D;return this.s>e}normalizeS(){return this.hasHighS()?new Jt(this.r,h(-this.s,_.n)):this}toDERRawBytes(){return Xe(this.toDERHex())}toDERHex(){const e=Yc(et(this.s)),t=Yc(et(this.r)),c=e.length/2,r=t.length/2,a=et(c),x=et(r);return`30${et(r+c+4)}02${x}${t}02${a}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return Xe(this.toCompactHex())}toCompactHex(){return I0(this.r)+I0(this.s)}};function Ge(...n){if(!n.every(c=>c instanceof Uint8Array))throw new Error("Uint8Array list expected");if(n.length===1)return n[0];const e=n.reduce((c,r)=>c+r.length,0),t=new Uint8Array(e);for(let c=0,r=0;c<n.length;c++){const a=n[c];t.set(a,r),r+=a.length}return t}const ux=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function E0(n){if(!(n instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let t=0;t<n.length;t++)e+=ux[n[t]];return e}const hx=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function I0(n){if(typeof n!="bigint")throw new Error("Expected bigint");if(!(v<=n&&n<hx))throw new Error("Expected number 0 <= n < 2^256");return n.toString(16).padStart(64,"0")}function yn(n){const e=Xe(I0(n));if(e.length!==32)throw new Error("Error: expected 32 bytes");return e}function et(n){const e=n.toString(16);return e.length&1?`0${e}`:e}function Ct(n){if(typeof n!="string")throw new TypeError("hexToNumber: expected string, got "+typeof n);return BigInt(`0x${n}`)}function Xe(n){if(typeof n!="string")throw new TypeError("hexToBytes: expected string, got "+typeof n);if(n.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+n.length);const e=new Uint8Array(n.length/2);for(let t=0;t<e.length;t++){const c=t*2,r=n.slice(c,c+2),a=Number.parseInt(r,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");e[t]=a}return e}function _e(n){return Ct(E0(n))}function tt(n){return n instanceof Uint8Array?Uint8Array.from(n):Xe(n)}function Jc(n){if(typeof n=="number"&&Number.isSafeInteger(n)&&n>0)return BigInt(n);if(typeof n=="bigint"&&rt(n))return n;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function h(n,e=_.P){const t=n%e;return t>=v?t:e+t}function ae(n,e){const{P:t}=_;let c=n;for(;e-- >v;)c*=c,c%=t;return c}function yx(n){const{P:e}=_,t=BigInt(6),c=BigInt(11),r=BigInt(22),a=BigInt(23),x=BigInt(44),s=BigInt(88),i=n*n*n%e,f=i*i*n%e,o=ae(f,Q0)*f%e,d=ae(o,Q0)*f%e,l=ae(d,$e)*i%e,u=ae(l,c)*l%e,y=ae(u,r)*u%e,p=ae(y,x)*y%e,I=ae(p,s)*p%e,S=ae(I,x)*y%e,F=ae(S,Q0)*f%e,w=ae(F,a)*u%e,K=ae(w,t)*i%e,P=ae(K,$e);if(P*P%e!==n)throw new Error("Cannot find square root");return P}function nt(n,e=_.P){if(n===v||e<=v)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=h(n,e),c=e,r=v,a=D;for(;t!==v;){const s=c/t,i=c%t,f=r-a*s;c=t,t=i,r=a,a=f}if(c!==D)throw new Error("invert: does not exist");return h(r,e)}function px(n,e=_.P){const t=new Array(n.length),c=n.reduce((a,x,s)=>x===v?a:(t[s]=a,h(a*x,e)),D),r=nt(c,e);return n.reduceRight((a,x,s)=>x===v?a:(t[s]=h(a*t[s],e),h(a*x,e)),r),t}function gx(n){const e=n.length*8-w0*8,t=_e(n);return e>0?t>>BigInt(e):t}function qc(n,e=!1){const t=gx(n);if(e)return t;const{n:c}=_;return t>=c?t-c:t}let S0,ct;class mx{constructor(e,t){if(this.hashLen=e,this.qByteLen=t,typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(e).fill(1),this.k=new Uint8Array(e).fill(0),this.counter=0}hmac(...e){return Me.hmacSha256(this.k,...e)}hmacSync(...e){return ct(this.k,...e)}checkSync(){if(typeof ct!="function")throw new Wc("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(e=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),e),this.v=await this.hmac(this.v),e.length!==0&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),e),this.v=await this.hmac(this.v))}reseedSync(e=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),e),this.v=this.hmacSync(this.v),e.length!==0&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),e),this.v=this.hmacSync(this.v))}async generate(){this.incr();let e=0;const t=[];for(;e<this.qByteLen;){this.v=await this.hmac(this.v);const c=this.v.slice();t.push(c),e+=this.v.length}return Ge(...t)}generateSync(){this.checkSync(),this.incr();let e=0;const t=[];for(;e<this.qByteLen;){this.v=this.hmacSync(this.v);const c=this.v.slice();t.push(c),e+=this.v.length}return Ge(...t)}}function rt(n){return v<n&&n<_.n}function pn(n){return v<n&&n<_.P}function wx(n,e,t,c=!0){const{n:r}=_,a=qc(n,!0);if(!rt(a))return;const x=nt(a,r),s=B.BASE.multiply(a),i=h(s.x,r);if(i===v)return;const f=h(x*h(e+t*i,r),r);if(f===v)return;let o=new A0(i,f),d=(s.x===o.r?0:2)|Number(s.y&D);return c&&o.hasHighS()&&(o=o.normalizeS(),d^=1),{sig:o,recovery:d}}function at(n){let e;if(typeof n=="bigint")e=n;else if(typeof n=="number"&&Number.isSafeInteger(n)&&n>0)e=BigInt(n);else if(typeof n=="string"){if(n.length!==2*w0)throw new Error("Expected 32 bytes of private key");e=Ct(n)}else if(n instanceof Uint8Array){if(n.length!==w0)throw new Error("Expected 32 bytes of private key");e=_e(n)}else throw new TypeError("Expected valid private key");if(!rt(e))throw new Error("Expected private key: 0 < key < n");return e}function Ax(n){return n instanceof B?(n.assertValidity(),n):B.fromHex(n)}function Ex(n){if(n instanceof A0)return n.assertValidity(),n;try{return A0.fromDER(n)}catch{return A0.fromCompact(n)}}function Ix(n,e=!1){return B.fromPrivateKey(n).toRawBytes(e)}function Sx(n,e,t,c=!1){return B.fromSignature(n,e,t).toRawBytes(c)}function Qc(n){const e=n instanceof Uint8Array,t=typeof n=="string",c=(e||t)&&n.length;return e?c===Rt||c===Ot:t?c===Rt*2||c===Ot*2:n instanceof B}function Px(n,e,t=!1){if(Qc(n))throw new TypeError("getSharedSecret: first arg must be private key");if(!Qc(e))throw new TypeError("getSharedSecret: second arg must be public key");const c=Ax(e);return c.assertValidity(),c.multiply(at(n)).toRawBytes(t)}function er(n){const e=n.length>ue?n.slice(0,ue):n;return _e(e)}function Tx(n){const e=er(n),t=h(e,_.n);return tr(t<v?e:t)}function tr(n){return yn(n)}function Nx(n,e,t){if(n==null)throw new Error(`sign: expected valid message hash, not "${n}"`);const c=tt(n),r=at(e),a=[tr(r),Tx(c)];if(t!=null){t===!0&&(t=Me.randomBytes(ue));const i=tt(t);if(i.length!==ue)throw new Error(`sign: Expected ${ue} bytes of extra data`);a.push(i)}const x=Ge(...a),s=er(c);return{seed:x,m:s,d:r}}function vx(n,e){const{sig:t,recovery:c}=n,{der:r,recovered:a}=Object.assign({canonical:!0,der:!0},e),x=r?t.toDERRawBytes():t.toCompactRawBytes();return a?[x,c]:x}function kx(n,e,t={}){const{seed:c,m:r,d:a}=Nx(n,e,t.extraEntropy),x=new mx(bx,w0);x.reseedSync(c);let s;for(;!(s=wx(x.generateSync(),r,a,t.canonical));)x.reseedSync();return vx(s,t)}B.BASE._setWindowSize(8);const te={node:dx,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},Lt={},Me={bytesToHex:E0,hexToBytes:Xe,concatBytes:Ge,mod:h,invert:nt,isValidPrivateKey(n){try{return at(n),!0}catch{return!1}},_bigintTo32Bytes:yn,_normalizePrivateKey:at,hashToPrivateKey:n=>{n=tt(n);const e=w0+8;if(n.length<e||n.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");const t=h(_e(n),_.n-D)+D;return yn(t)},randomBytes:(n=32)=>{if(te.web)return te.web.getRandomValues(new Uint8Array(n));if(te.node){const{randomBytes:e}=te.node;return Uint8Array.from(e(n))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Me.hashToPrivateKey(Me.randomBytes(w0+8)),precompute(n=8,e=B.BASE){const t=e===B.BASE?e:new B(e.x,e.y);return t._setWindowSize(n),t.multiply(Q0),t},sha256:async(...n)=>{if(te.web){const e=await te.web.subtle.digest("SHA-256",Ge(...n));return new Uint8Array(e)}else if(te.node){const{createHash:e}=te.node,t=e("sha256");return n.forEach(c=>t.update(c)),Uint8Array.from(t.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(n,...e)=>{if(te.web){const t=await te.web.subtle.importKey("raw",n,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),c=Ge(...e),r=await te.web.subtle.sign("HMAC",t,c);return new Uint8Array(r)}else if(te.node){const{createHmac:t}=te.node,c=t("sha256",n);return e.forEach(r=>c.update(r)),Uint8Array.from(c.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(n,...e)=>{let t=Lt[n];if(t===void 0){const c=await Me.sha256(Uint8Array.from(n,r=>r.charCodeAt(0)));t=Ge(c,c),Lt[n]=t}return Me.sha256(t,...e)},taggedHashSync:(n,...e)=>{if(typeof S0!="function")throw new Wc("sha256Sync is undefined, you need to set it");let t=Lt[n];if(t===void 0){const c=S0(Uint8Array.from(n,r=>r.charCodeAt(0)));t=Ge(c,c),Lt[n]=t}return S0(t,...e)},_JacobianPoint:R};Object.defineProperties(Me,{sha256Sync:{configurable:!1,get(){return S0},set(n){S0||(S0=n)}},hmacSha256Sync:{configurable:!1,get(){return ct},set(n){ct||(ct=n)}}});const nr="0x0000000000000000000000000000000000000000000000000000000000000000",Rx=`Ethereum Signed Message:
`,cr=BigInt(0),rr=BigInt(1),ar=BigInt(2),xr=BigInt(27),sr=BigInt(28),Ft=BigInt(35),P0={};function ir(n){return b0(re(n),32)}const he=class he{constructor(e,t,c,r){O(this,B0,void 0);O(this,U0,void 0);O(this,C0,void 0);O(this,Qe,void 0);mt(e,P0,"Signature"),A(this,B0,t),A(this,U0,c),A(this,C0,r),A(this,Qe,null)}get r(){return T(this,B0)}set r(e){b(X0(e)===32,"invalid r","value",e),A(this,B0,m(e))}get s(){return T(this,U0)}set s(e){b(X0(e)===32,"invalid s","value",e);const t=m(e);b(parseInt(t.substring(0,3))<8,"non-canonical s","value",t),A(this,U0,t)}get v(){return T(this,C0)}set v(e){const t=me(e,"value");b(t===27||t===28,"invalid v","v",e),A(this,C0,t)}get networkV(){return T(this,Qe)}get legacyChainId(){const e=this.networkV;return e==null?null:he.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=g(this.s);return this.yParity&&(e[0]|=128),m(e)}get compactSerialized(){return V([this.r,this.yParityAndS])}get serialized(){return V([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new he(P0,this.r,this.s,this.v);return this.networkV&&A(e,Qe,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){const t=$(e,"v");return t==xr||t==sr?cr:(b(t>=Ft,"invalid EIP-155 v","v",e),(t-Ft)/ar)}static getChainIdV(e,t){return $(e)*ar+BigInt(35+t-27)}static getNormalizedV(e){const t=$(e);return t===cr||t===xr?27:t===rr||t===sr?28:(b(t>=Ft,"invalid v","v",e),t&rr?27:28)}static from(e){function t(f,o){b(f,o,"signature",e)}if(e==null)return new he(P0,nr,nr,27);if(typeof e=="string"){const f=g(e,"signature");if(f.length===64){const o=m(f.slice(0,32)),d=f.slice(32,64),l=d[0]&128?28:27;return d[0]&=127,new he(P0,o,m(d),l)}if(f.length===65){const o=m(f.slice(0,32)),d=f.slice(32,64);t((d[0]&128)===0,"non-canonical s");const l=he.getNormalizedV(f[64]);return new he(P0,o,m(d),l)}t(!1,"invalid raw signature length")}if(e instanceof he)return e.clone();const c=e.r;t(c!=null,"missing r");const r=ir(c),a=function(f,o){if(f!=null)return ir(f);if(o!=null){t(Be(o,32),"invalid yParityAndS");const d=g(o);return d[0]&=127,m(d)}t(!1,"missing s")}(e.s,e.yParityAndS);t((g(a)[0]&128)==0,"non-canonical s");const{networkV:x,v:s}=function(f,o,d){if(f!=null){const l=$(f);return{networkV:l>=Ft?l:void 0,v:he.getNormalizedV(l)}}if(o!=null)return t(Be(o,32),"invalid yParityAndS"),{v:g(o)[0]&128?28:27};if(d!=null){switch(d){case 0:return{v:27};case 1:return{v:28}}t(!1,"invalid yParity")}t(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),i=new he(P0,r,a,s);return x&&A(i,Qe,x),t(!("yParity"in e&&e.yParity!==i.yParity),"yParity mismatch"),t(!("yParityAndS"in e&&e.yParityAndS!==i.yParityAndS),"yParityAndS mismatch"),i}};B0=new WeakMap,U0=new WeakMap,C0=new WeakMap,Qe=new WeakMap;let Te=he;Me.hmacSha256Sync=function(n,...e){return g(Ye("sha256",n,V(e)))};const e0=class e0{constructor(e){O(this,ve,void 0);b(X0(e)===32,"invalid private key","privateKey","[REDACTED]"),A(this,ve,m(e))}get privateKey(){return T(this,ve)}get publicKey(){return e0.computePublicKey(T(this,ve))}get compressedPublicKey(){return e0.computePublicKey(T(this,ve),!0)}sign(e){b(X0(e)===32,"invalid digest length","digest",e);const[t,c]=kx(Ve(e),Ve(T(this,ve)),{recovered:!0,canonical:!0}),r=A0.fromHex(t);return Te.from({r:u0("0x"+r.r.toString(16),32),s:u0("0x"+r.s.toString(16),32),v:c?28:27})}computeSharedSecret(e){const t=e0.computePublicKey(e);return m(Px(Ve(T(this,ve)),g(t)))}static computePublicKey(e,t){let c=g(e,"key");if(c.length===32){const a=Ix(c,!!t);return m(a)}if(c.length===64){const a=new Uint8Array(65);a[0]=4,a.set(c,1),c=a}const r=B.fromHex(c);return m(r.toRawBytes(t))}static recoverPublicKey(e,t){b(X0(e)===32,"invalid digest length","digest",e);const c=Te.from(t),r=A0.fromCompact(Ve(V([c.r,c.s]))).toDERRawBytes(),a=Sx(Ve(e),r,c.yParity);return b(a!=null,"invalid signautre for digest","signature",t),m(a)}static addPoints(e,t,c){const r=B.fromHex(e0.computePublicKey(e).substring(2)),a=B.fromHex(e0.computePublicKey(t).substring(2));return"0x"+r.add(a).toHex(!!c)}};ve=new WeakMap;let Ae=e0;const Ox=BigInt(0),Bx=BigInt(36);function fr(n){n=n.toLowerCase();const e=n.substring(2).split(""),t=new Uint8Array(40);for(let r=0;r<40;r++)t[r]=e[r].charCodeAt(0);const c=g(G(t));for(let r=0;r<40;r+=2)c[r>>1]>>4>=8&&(e[r]=e[r].toUpperCase()),(c[r>>1]&15)>=8&&(e[r+1]=e[r+1].toUpperCase());return"0x"+e.join("")}const gn={};for(let n=0;n<10;n++)gn[String(n)]=String(n);for(let n=0;n<26;n++)gn[String.fromCharCode(65+n)]=String(10+n);const or=15;function Ux(n){n=n.toUpperCase(),n=n.substring(4)+n.substring(0,2)+"00";let e=n.split("").map(c=>gn[c]).join("");for(;e.length>=or;){let c=e.substring(0,or);e=parseInt(c,10)%97+e.substring(c.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}const Cx=function(){const n={};for(let e=0;e<36;e++){const t="0123456789abcdefghijklmnopqrstuvwxyz"[e];n[t]=BigInt(e)}return n}();function Lx(n){n=n.toLowerCase();let e=Ox;for(let t=0;t<n.length;t++)e=e*Bx+Cx[n[t]];return e}function Q(n){if(b(typeof n=="string","invalid address","address",n),n.match(/^(0x)?[0-9a-fA-F]{40}$/)){n.startsWith("0x")||(n="0x"+n);const e=fr(n);return b(!n.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===n,"bad address checksum","address",n),e}if(n.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){b(n.substring(2,4)===Ux(n),"bad icap checksum","address",n);let e=Lx(n.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return fr("0x"+e)}b(!1,"invalid address","address",n)}function Fx(n){return n&&typeof n.getAddress=="function"}async function mn(n,e){const t=await e;return(t==null||t==="0x0000000000000000000000000000000000000000")&&(N(typeof n!="string","unconfigured name","UNCONFIGURED_NAME",{value:n}),b(!1,"invalid AddressLike value; did not resolve to a value address","target",n)),Q(t)}function Dt(n,e){if(typeof n=="string")return n.match(/^0x[0-9a-f]{40}$/i)?Q(n):(N(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),mn(n,e.resolveName(n)));if(Fx(n))return mn(n,n.getAddress());if(n&&typeof n.then=="function")return mn(n,n);b(!1,"unsupported addressable value","target",n)}function Ht(n){return G(We(n))}function wn(n,e){return{address:Q(n),storageKeys:e.map((t,c)=>(b(Be(t,32),"invalid slot",`storageKeys[${c}]`,t),t.toLowerCase()))}}function $t(n){if(Array.isArray(n))return n.map((t,c)=>Array.isArray(t)?(b(t.length===2,"invalid slot set",`value[${c}]`,t),wn(t[0],t[1])):(b(t!=null&&typeof t=="object","invalid address-slot set","value",n),wn(t.address,t.storageKeys)));b(n!=null&&typeof n=="object","invalid access list","value",n);const e=Object.keys(n).map(t=>{const c=n[t].reduce((r,a)=>(r[a]=!0,r),{});return wn(t,Object.keys(c).sort())});return e.sort((t,c)=>t.address.localeCompare(c.address)),e}function xt(n){let e;return typeof n=="string"?e=Ae.computePublicKey(n,!1):e=n.publicKey,Q(G("0x"+e.substring(4)).substring(26))}function Dx(n,e){return xt(Ae.recoverPublicKey(n,e))}const ee=BigInt(0),Hx=BigInt(2),$x=BigInt(27),Gx=BigInt(28),_x=BigInt(35),Mx=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function An(n){return n==="0x"?null:Q(n)}function dr(n,e){try{return $t(n)}catch(t){b(!1,t.message,e,n)}}function Gt(n,e){return n==="0x"?0:me(n,e)}function J(n,e){if(n==="0x")return ee;const t=$(n,e);return b(t<=Mx,"value exceeds uint size",e,t),t}function j(n,e){const t=$(n,"value"),c=re(t);return b(c.length<=32,"value too large",`tx.${e}`,t),c}function br(n){return $t(n).map(e=>[e.address,e.storageKeys])}function Kx(n){const e=rn(n);b(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",n);const t={type:0,nonce:Gt(e[0],"nonce"),gasPrice:J(e[1],"gasPrice"),gasLimit:J(e[2],"gasLimit"),to:An(e[3]),value:J(e[4],"value"),data:m(e[5]),chainId:ee};if(e.length===6)return t;const c=J(e[6],"v"),r=J(e[7],"r"),a=J(e[8],"s");if(r===ee&&a===ee)t.chainId=c;else{let x=(c-_x)/Hx;x<ee&&(x=ee),t.chainId=x,b(x!==ee||c===$x||c===Gx,"non-canonical legacy v","v",e[6]),t.signature=Te.from({r:b0(e[7],32),s:b0(e[8],32),v:c}),t.hash=G(n)}return t}function lr(n,e){const t=[j(n.nonce||0,"nonce"),j(n.gasPrice||0,"gasPrice"),j(n.gasLimit||0,"gasLimit"),n.to!=null?Q(n.to):"0x",j(n.value||0,"value"),n.data||"0x"];let c=ee;if(n.chainId!=ee)c=$(n.chainId,"tx.chainId"),b(!e||e.networkV==null||e.legacyChainId===c,"tx.chainId/sig.v mismatch","sig",e);else if(n.signature){const a=n.signature.legacyChainId;a!=null&&(c=a)}if(!e)return c!==ee&&(t.push(re(c)),t.push("0x"),t.push("0x")),At(t);let r=BigInt(27+e.yParity);return c!==ee?r=Te.getChainIdV(c,e.v):BigInt(e.v)!==r&&b(!1,"tx.chainId/sig.v mismatch","sig",e),t.push(re(r)),t.push(re(e.r)),t.push(re(e.s)),At(t)}function ur(n,e){let t;try{if(t=Gt(e[0],"yParity"),t!==0&&t!==1)throw new Error("bad yParity")}catch{b(!1,"invalid yParity","yParity",e[0])}const c=b0(e[1],32),r=b0(e[2],32),a=Te.from({r:c,s:r,yParity:t});n.signature=a}function zx(n){const e=rn(g(n).slice(1));b(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",m(n));const t=J(e[2],"maxPriorityFeePerGas"),c=J(e[3],"maxFeePerGas"),r={type:2,chainId:J(e[0],"chainId"),nonce:Gt(e[1],"nonce"),maxPriorityFeePerGas:t,maxFeePerGas:c,gasPrice:null,gasLimit:J(e[4],"gasLimit"),to:An(e[5]),value:J(e[6],"value"),data:m(e[7]),accessList:dr(e[8],"accessList")};return e.length===9||(r.hash=G(n),ur(r,e.slice(9))),r}function hr(n,e){const t=[j(n.chainId||0,"chainId"),j(n.nonce||0,"nonce"),j(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),j(n.maxFeePerGas||0,"maxFeePerGas"),j(n.gasLimit||0,"gasLimit"),n.to!=null?Q(n.to):"0x",j(n.value||0,"value"),n.data||"0x",br(n.accessList||[])];return e&&(t.push(j(e.yParity,"yParity")),t.push(re(e.r)),t.push(re(e.s))),V(["0x02",At(t)])}function Vx(n){const e=rn(g(n).slice(1));b(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",m(n));const t={type:1,chainId:J(e[0],"chainId"),nonce:Gt(e[1],"nonce"),gasPrice:J(e[2],"gasPrice"),gasLimit:J(e[3],"gasLimit"),to:An(e[4]),value:J(e[5],"value"),data:m(e[6]),accessList:dr(e[7],"accessList")};return e.length===8||(t.hash=G(n),ur(t,e.slice(8))),t}function yr(n,e){const t=[j(n.chainId||0,"chainId"),j(n.nonce||0,"nonce"),j(n.gasPrice||0,"gasPrice"),j(n.gasLimit||0,"gasLimit"),n.to!=null?Q(n.to):"0x",j(n.value||0,"value"),n.data||"0x",br(n.accessList||[])];return e&&(t.push(j(e.yParity,"recoveryParam")),t.push(re(e.r)),t.push(re(e.s))),V(["0x01",At(t)])}const ze=class ze{constructor(){O(this,ke,void 0);O(this,L0,void 0);O(this,F0,void 0);O(this,D0,void 0);O(this,H0,void 0);O(this,$0,void 0);O(this,G0,void 0);O(this,_0,void 0);O(this,M0,void 0);O(this,K0,void 0);O(this,z0,void 0);O(this,V0,void 0);A(this,ke,null),A(this,L0,null),A(this,D0,0),A(this,H0,BigInt(0)),A(this,$0,null),A(this,G0,null),A(this,_0,null),A(this,F0,"0x"),A(this,M0,BigInt(0)),A(this,K0,BigInt(0)),A(this,z0,null),A(this,V0,null)}get type(){return T(this,ke)}set type(e){switch(e){case null:A(this,ke,null);break;case 0:case"legacy":A(this,ke,0);break;case 1:case"berlin":case"eip-2930":A(this,ke,1);break;case 2:case"london":case"eip-1559":A(this,ke,2);break;default:b(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559"}return null}get to(){return T(this,L0)}set to(e){A(this,L0,e==null?null:Q(e))}get nonce(){return T(this,D0)}set nonce(e){A(this,D0,me(e,"value"))}get gasLimit(){return T(this,H0)}set gasLimit(e){A(this,H0,$(e))}get gasPrice(){const e=T(this,$0);return e==null&&(this.type===0||this.type===1)?ee:e}set gasPrice(e){A(this,$0,e==null?null:$(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=T(this,G0);return e??(this.type===2?ee:null)}set maxPriorityFeePerGas(e){A(this,G0,e==null?null:$(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=T(this,_0);return e??(this.type===2?ee:null)}set maxFeePerGas(e){A(this,_0,e==null?null:$(e,"maxFeePerGas"))}get data(){return T(this,F0)}set data(e){A(this,F0,m(e))}get value(){return T(this,M0)}set value(e){A(this,M0,$(e,"value"))}get chainId(){return T(this,K0)}set chainId(e){A(this,K0,$(e))}get signature(){return T(this,z0)||null}set signature(e){A(this,z0,e==null?null:Te.from(e))}get accessList(){const e=T(this,V0)||null;return e??(this.type===1||this.type===2?[]:null)}set accessList(e){A(this,V0,e==null?null:$t(e))}get hash(){return this.signature==null?null:G(this.serialized)}get unsignedHash(){return G(this.unsignedSerialized)}get from(){return this.signature==null?null:Dx(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:Ae.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){switch(N(this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"}),this.inferType()){case 0:return lr(this,this.signature);case 1:return yr(this,this.signature);case 2:return hr(this,this.signature)}N(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get unsignedSerialized(){switch(this.inferType()){case 0:return lr(this);case 1:return yr(this);case 2:return hr(this)}N(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".unsignedSerialized"})}inferType(){return this.inferTypes().pop()}inferTypes(){const e=this.gasPrice!=null,t=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,c=this.accessList!=null;this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&N(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),N(!t||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),N(this.type!==0||!c,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const r=[];return this.type!=null?r.push(this.type):t?r.push(2):e?(r.push(1),c||r.push(0)):c?(r.push(1),r.push(2)):(r.push(0),r.push(1),r.push(2)),r.sort(),r}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}clone(){return ze.from(this)}toJSON(){const e=t=>t==null?null:t.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new ze;if(typeof e=="string"){const c=g(e);if(c[0]>=127)return ze.from(Kx(c));switch(c[0]){case 1:return ze.from(Vx(c));case 2:return ze.from(zx(c))}N(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const t=new ze;return e.type!=null&&(t.type=e.type),e.to!=null&&(t.to=e.to),e.nonce!=null&&(t.nonce=e.nonce),e.gasLimit!=null&&(t.gasLimit=e.gasLimit),e.gasPrice!=null&&(t.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(t.maxFeePerGas=e.maxFeePerGas),e.data!=null&&(t.data=e.data),e.value!=null&&(t.value=e.value),e.chainId!=null&&(t.chainId=e.chainId),e.signature!=null&&(t.signature=Te.from(e.signature)),e.accessList!=null&&(t.accessList=e.accessList),e.hash!=null&&(b(t.isSigned(),"unsigned transaction cannot define hash","tx",e),b(t.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(b(t.isSigned(),"unsigned transaction cannot define from","tx",e),b(t.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),t}};ke=new WeakMap,L0=new WeakMap,F0=new WeakMap,D0=new WeakMap,H0=new WeakMap,$0=new WeakMap,G0=new WeakMap,_0=new WeakMap,M0=new WeakMap,K0=new WeakMap,z0=new WeakMap,V0=new WeakMap;let _t=ze;function jx(n){return typeof n=="string"&&(n=We(n)),G(V([We(Rx),We(String(n.length)),n]))}const pr=new Uint8Array(32);pr.fill(0);const Wx=BigInt(-1),gr=BigInt(0),mr=BigInt(1),Zx=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Yx(n){const e=g(n),t=e.length%32;return t?V([e,pr.slice(t)]):m(e)}const Xx=u0(mr,32),Jx=u0(gr,32),wr={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},En=["name","version","chainId","verifyingContract","salt"];function Ar(n){return function(e){return b(typeof e=="string",`invalid domain value for ${JSON.stringify(n)}`,`domain.${n}`,e),e}}const qx={name:Ar("name"),version:Ar("version"),chainId:function(n){const e=$(n,"domain.chainId");return b(e>=0,"invalid chain ID","domain.chainId",n),Number.isSafeInteger(e)?Number(e):ea(e)},verifyingContract:function(n){try{return Q(n).toLowerCase()}catch{}b(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",n)},salt:function(n){const e=g(n,"domain.salt");return b(e.length===32,'invalid domain value "salt"',"domain.salt",n),m(e)}};function In(n){{const e=n.match(/^(u?)int(\d*)$/);if(e){const t=e[1]==="",c=parseInt(e[2]||"256");b(c%8===0&&c!==0&&c<=256&&(e[2]==null||e[2]===String(c)),"invalid numeric width","type",n);const r=Qr(Zx,t?c-1:c),a=t?(r+mr)*Wx:gr;return function(x){const s=$(x,"value");return b(s>=a&&s<=r,`value out-of-bounds for ${n}`,"value",s),u0(t?qr(s,256):s,32)}}}{const e=n.match(/^bytes(\d+)$/);if(e){const t=parseInt(e[1]);return b(t!==0&&t<=32&&e[1]===String(t),"invalid bytes width","type",n),function(c){const r=g(c);return b(r.length===t,`invalid length for ${n}`,"value",c),Yx(c)}}}switch(n){case"address":return function(e){return b0(Q(e),32)};case"bool":return function(e){return e?Xx:Jx};case"bytes":return function(e){return G(e)};case"string":return function(e){return Ht(e)}}return null}function Er(n,e){return`${n}(${e.map(({name:t,type:c})=>c+" "+t).join(",")})`}const oe=class oe{constructor(e){O(this,Xt);U(this,"primaryType");O(this,lt,void 0);O(this,Re,void 0);O(this,j0,void 0);A(this,lt,JSON.stringify(e)),A(this,Re,new Map),A(this,j0,new Map);const t=new Map,c=new Map,r=new Map;Object.keys(e).forEach(s=>{t.set(s,new Set),c.set(s,[]),r.set(s,new Set)});for(const s in e){const i=new Set;for(const f of e[s]){b(!i.has(f.name),`duplicate variable name ${JSON.stringify(f.name)} in ${JSON.stringify(s)}`,"types",e),i.add(f.name);const o=f.type.match(/^([^\x5b]*)(\x5b|$)/)[1]||null;b(o!==s,`circular type reference to ${JSON.stringify(o)}`,"types",e),!In(o)&&(b(c.has(o),`unknown type ${JSON.stringify(o)}`,"types",e),c.get(o).push(s),t.get(s).add(o))}}const a=Array.from(c.keys()).filter(s=>c.get(s).length===0);b(a.length!==0,"missing primary type","types",e),b(a.length===1,`ambiguous primary types or unused types: ${a.map(s=>JSON.stringify(s)).join(", ")}`,"types",e),ce(this,{primaryType:a[0]});function x(s,i){b(!i.has(s),`circular type reference to ${JSON.stringify(s)}`,"types",e),i.add(s);for(const f of t.get(s))if(c.has(f)){x(f,i);for(const o of i)r.get(o).add(f)}i.delete(s)}x(this.primaryType,new Set);for(const[s,i]of r){const f=Array.from(i);f.sort(),T(this,Re).set(s,Er(s,e[s])+f.map(o=>Er(o,e[o])).join(""))}}get types(){return JSON.parse(T(this,lt))}getEncoder(e){let t=T(this,j0).get(e);return t||(t=q(this,Xt,Zr).call(this,e),T(this,j0).set(e,t)),t}encodeType(e){const t=T(this,Re).get(e);return b(t,`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return G(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,c){if(In(e))return c(e,t);const r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r)return b(!r[3]||parseInt(r[3])===t.length,`array length mismatch; expected length ${parseInt(r[3])}`,"value",t),t.map(x=>this._visit(r[1],x,c));const a=this.types[e];if(a)return a.reduce((x,{name:s,type:i})=>(x[s]=this._visit(i,t[s],c),x),{});b(!1,`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new oe(e)}static getPrimaryType(e){return oe.from(e).primaryType}static hashStruct(e,t,c){return oe.from(t).hashStruct(e,c)}static hashDomain(e){const t=[];for(const c in e){if(e[c]==null)continue;const r=wr[c];b(r,`invalid typed-data domain key: ${JSON.stringify(c)}`,"domain",e),t.push({name:c,type:r})}return t.sort((c,r)=>En.indexOf(c.name)-En.indexOf(r.name)),oe.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,c){return V(["0x1901",oe.hashDomain(e),oe.from(t).hash(c)])}static hash(e,t,c){return G(oe.encode(e,t,c))}static async resolveNames(e,t,c,r){e=Object.assign({},e);for(const s in e)e[s]==null&&delete e[s];const a={};e.verifyingContract&&!Be(e.verifyingContract,20)&&(a[e.verifyingContract]="0x");const x=oe.from(t);x.visit(c,(s,i)=>(s==="address"&&!Be(i,20)&&(a[i]="0x"),i));for(const s in a)a[s]=await r(s);return e.verifyingContract&&a[e.verifyingContract]&&(e.verifyingContract=a[e.verifyingContract]),c=x.visit(c,(s,i)=>s==="address"&&a[i]?a[i]:i),{domain:e,value:c}}static getPayload(e,t,c){oe.hashDomain(e);const r={},a=[];En.forEach(i=>{const f=e[i];f!=null&&(r[i]=qx[i](f),a.push({name:i,type:wr[i]}))});const x=oe.from(t),s=Object.assign({},t);return b(s.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",t),s.EIP712Domain=a,x.encode(c),{types:s,domain:r,primaryType:x.primaryType,message:x.visit(c,(i,f)=>{if(i.match(/^bytes(\d*)/))return m(g(f));if(i.match(/^u?int/))return $(f).toString();switch(i){case"address":return f.toLowerCase();case"bool":return!!f;case"string":return b(typeof f=="string","invalid string","value",f),f}b(!1,"unsupported type","type",i)})}}};lt=new WeakMap,Re=new WeakMap,j0=new WeakMap,Xt=new WeakSet,Zr=function(e){{const r=In(e);if(r)return r}const t=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(t){const r=t[1],a=this.getEncoder(r);return x=>{b(!t[3]||parseInt(t[3])===x.length,`array length mismatch; expected length ${parseInt(t[3])}`,"value",x);let s=x.map(a);return T(this,Re).has(r)&&(s=s.map(G)),G(V(s))}}const c=this.types[e];if(c){const r=Ht(T(this,Re).get(e));return a=>{const x=c.map(({name:s,type:i})=>{const f=this.getEncoder(i)(a[s]);return T(this,Re).has(i)?G(f):f});return x.unshift(r),V(x)}}b(!1,`unknown type: ${e}`,"type",e)};let Mt=oe;BigInt(0);function Qx(n){const e={};n.to&&(e.to=n.to),n.from&&(e.from=n.from),n.data&&(e.data=m(n.data));const t="chainId,gasLimit,gasPrice,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const r of t)!(r in n)||n[r]==null||(e[r]=$(n[r],`request.${r}`));const c="type,nonce".split(/,/);for(const r of c)!(r in n)||n[r]==null||(e[r]=me(n[r],`request.${r}`));return n.accessList&&(e.accessList=$t(n.accessList)),"blockTag"in n&&(e.blockTag=n.blockTag),"enableCcipRead"in n&&(e.enableCcipRead=!!n.enableCcipRead),"customData"in n&&(e.customData=n.customData),e}function T0(n,e){if(n.provider)return n.provider;N(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function Ir(n,e){let t=Qx(e);if(t.to!=null&&(t.to=Dt(t.to,n)),t.from!=null){const c=t.from;t.from=Promise.all([n.getAddress(),Dt(c,n)]).then(([r,a])=>(b(r.toLowerCase()===a.toLowerCase(),"transaction from mismatch","tx.from",a),r))}else t.from=n.getAddress();return await o0(t)}class Sr{constructor(e){U(this,"provider");ce(this,{provider:e||null})}async getNonce(e){return T0(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await Ir(this,e)}async populateTransaction(e){const t=T0(this,"populateTransaction"),c=await Ir(this,e);c.nonce==null&&(c.nonce=await this.getNonce("pending")),c.gasLimit==null&&(c.gasLimit=await this.estimateGas(c));const r=await this.provider.getNetwork();if(c.chainId!=null){const x=$(c.chainId);b(x===r.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else c.chainId=r.chainId;const a=c.maxFeePerGas!=null||c.maxPriorityFeePerGas!=null;if(c.gasPrice!=null&&(c.type===2||a)?b(!1,"eip-1559 transaction do not support gasPrice","tx",e):(c.type===0||c.type===1)&&a&&b(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(c.type===2||c.type==null)&&c.maxFeePerGas!=null&&c.maxPriorityFeePerGas!=null)c.type=2;else if(c.type===0||c.type===1){const x=await t.getFeeData();N(x.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),c.gasPrice==null&&(c.gasPrice=x.gasPrice)}else{const x=await t.getFeeData();if(c.type==null)if(x.maxFeePerGas!=null&&x.maxPriorityFeePerGas!=null)if(c.type=2,c.gasPrice!=null){const s=c.gasPrice;delete c.gasPrice,c.maxFeePerGas=s,c.maxPriorityFeePerGas=s}else c.maxFeePerGas==null&&(c.maxFeePerGas=x.maxFeePerGas),c.maxPriorityFeePerGas==null&&(c.maxPriorityFeePerGas=x.maxPriorityFeePerGas);else x.gasPrice!=null?(N(!a,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),c.gasPrice==null&&(c.gasPrice=x.gasPrice),c.type=0):N(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else c.type===2&&(c.maxFeePerGas==null&&(c.maxFeePerGas=x.maxFeePerGas),c.maxPriorityFeePerGas==null&&(c.maxPriorityFeePerGas=x.maxPriorityFeePerGas))}return await o0(c)}async estimateGas(e){return T0(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return T0(this,"call").call(await this.populateCall(e))}async resolveName(e){return await T0(this,"resolveName").resolveName(e)}async sendTransaction(e){const t=T0(this,"sendTransaction"),c=await this.populateTransaction(e);delete c.from;const r=_t.from(c);return await t.broadcastTransaction(await this.signTransaction(r))}}const Dn=class Dn extends Sr{constructor(t,c){super(c);O(this,W0);U(this,"address");ce(this,{address:t})}async getAddress(){return this.address}connect(t){return new Dn(this.address,t)}async signTransaction(t){q(this,W0,qt).call(this,"transactions","signTransaction")}async signMessage(t){q(this,W0,qt).call(this,"messages","signMessage")}async signTypedData(t,c,r){q(this,W0,qt).call(this,"typed-data","signTypedData")}};W0=new WeakSet,qt=function(t,c){N(!1,`VoidSigner cannot sign ${t}`,"UNSUPPORTED_OPERATION",{operation:c})};let Sn=Dn;const Hn=class Hn extends Sr{constructor(t,c){super(c);U(this,"address");O(this,Z0,void 0);b(t&&typeof t.sign=="function","invalid private key","privateKey","[ REDACTED ]"),A(this,Z0,t);const r=xt(this.signingKey.publicKey);ce(this,{address:r})}get signingKey(){return T(this,Z0)}get privateKey(){return this.signingKey.privateKey}async getAddress(){return this.address}connect(t){return new Hn(T(this,Z0),t)}async signTransaction(t){const{to:c,from:r}=await o0({to:t.to?Dt(t.to,this.provider):void 0,from:t.from?Dt(t.from,this.provider):void 0});c!=null&&(t.to=c),r!=null&&(t.from=r),t.from!=null&&(b(Q(t.from)===this.address,"transaction from address mismatch","tx.from",t.from),delete t.from);const a=_t.from(t);return a.signature=this.signingKey.sign(a.unsignedHash),a.serialized}async signMessage(t){return this.signMessageSync(t)}signMessageSync(t){return this.signingKey.sign(jx(t)).serialized}async signTypedData(t,c,r){const a=await Mt.resolveNames(t,c,r,async x=>{N(this.provider!=null,"cannot resolve ENS names without a provider","UNSUPPORTED_OPERATION",{operation:"resolveName",info:{name:x}});const s=await this.provider.resolveName(x);return N(s!=null,"unconfigured ENS name","UNCONFIGURED_NAME",{value:x}),s});return this.signingKey.sign(Mt.hash(a.domain,c,a.value)).serialized}};Z0=new WeakMap;let Kt=Hn;const zt=" !#$%&'()*+,-./<=>?@[]^_`{|}~",es=/^[a-z]*$/i;function Pr(n,e){let t=97;return n.reduce((c,r)=>(r===e?t++:r.match(es)?c.push(String.fromCharCode(t)+r):(t=97,c.push(r)),c),[])}function ts(n,e){for(let r=zt.length-1;r>=0;r--)n=n.split(zt[r]).join(e.substring(2*r,2*r+2));const t=[],c=n.replace(/(:|([0-9])|([A-Z][a-z]*))/g,(r,a,x,s)=>{if(x)for(let i=parseInt(x);i>=0;i--)t.push(";");else t.push(a.toLowerCase());return""});if(c)throw new Error(`leftovers: ${JSON.stringify(c)}`);return Pr(Pr(t,";"),":")}function ns(n){return b(n[0]==="0","unsupported auwl data","data",n),ts(n.substring(1+2*zt.length),n.substring(1,1+2*zt.length))}class cs{constructor(e){U(this,"locale");ce(this,{locale:e})}split(e){return e.toLowerCase().split(/\s+/g)}join(e){return e.join(" ")}}class rs extends cs{constructor(t,c,r){super(t);O(this,ht);O(this,Y0,void 0);O(this,ut,void 0);O(this,t0,void 0);A(this,Y0,c),A(this,ut,r),A(this,t0,null)}get _data(){return T(this,Y0)}_decodeWords(){return ns(T(this,Y0))}getWord(t){const c=q(this,ht,Gn).call(this);return b(t>=0&&t<c.length,`invalid word index: ${t}`,"index",t),c[t]}getWordIndex(t){return q(this,ht,Gn).call(this).indexOf(t)}}Y0=new WeakMap,ut=new WeakMap,t0=new WeakMap,ht=new WeakSet,Gn=function(){if(T(this,t0)==null){const t=this._decodeWords();if(Ht(t.join(`
`)+`
`)!==T(this,ut))throw new Error(`BIP39 Wordlist for ${this.locale} FAILED`);A(this,t0,t)}return T(this,t0)};const as="0erleonalorenseinceregesticitStanvetearctssi#ch2Athck&tneLl0And#Il.yLeOutO=S|S%b/ra@SurdU'0Ce[Cid|CountCu'Hie=IdOu,-Qui*Ro[TT]T%T*[Tu$0AptDD-tD*[Ju,M.UltV<)Vi)0Rob-0FairF%dRaid0A(EEntRee0Ead0MRRp%tS!_rmBumCoholErtI&LLeyLowMo,O}PhaReadySoT Ways0A>urAz(gOngOuntU'd0Aly,Ch%Ci|G G!GryIm$K!Noun)Nu$O` Sw T&naTiqueXietyY1ArtOlogyPe?P!Pro=Ril1ChCt-EaEnaGueMMedM%MyOundR<+Re,Ri=RowTTefa@Ti,Tw%k0KPe@SaultSetSi,SumeThma0H!>OmTa{T&dT.udeTra@0Ct]D.Gu,NtTh%ToTumn0Era+OcadoOid0AkeA*AyEsomeFulKw?d0Is:ByChel%C#D+GL<)Lc#y~MbooN<aNn RRelyRga(R*lSeS-SketTt!3A^AnAutyCau'ComeEfF%eG(Ha=H(dLie=LowLtN^Nef./TrayTt Twe&Y#d3Cyc!DKeNdOlogyRdR`Tt _{AdeAmeAnketA,EakE[IndOodO[omOu'UeUrUsh_rdAtDyIlMbNeNusOkO,Rd R(gRrowSsTtomUn)XY_{etA(AndA[A=EadEezeI{Id+IefIghtIngIskOccoliOk&OnzeOomO` OwnUsh2Bb!DdyD+tFf$oIldLbLkL!tNd!Nk Rd&Rg R,SS(e[SyTt Y Zz:Bba+B(B!CtusGeKe~LmM aMpNN$N)lNdyNn#NoeNvasNy#Pab!P.$Pta(RRb#RdRgoRpetRryRtSeShS(o/!Su$TT$ogT^Teg%yTt!UghtU'Ut]Ve3Il(gL yM|NsusNturyRe$Rta(_irAlkAmp]An+AosApt Ar+A'AtEapE{Ee'EfErryE,I{&IefIldIm}yOi)Oo'R#-U{!UnkUrn0G?Nnam#Rc!Tiz&TyVil_imApArifyAwAyE<ErkEv I{I|IffImbIn-IpO{OgO'O`OudOwnUbUmpU, Ut^_^A,C#utDeFfeeIlInL!@L%LumnMb(eMeMf%tM-Mm#Mp<yNc tNdu@NfirmNg*[N}@Nsid NtrolNv()OkOlPp PyR$ReRnR*@/Tt#U^UntryUp!Ur'Us(V Yo>_{Ad!AftAmA}AshAt AwlAzyEamEd.EekEwI{etImeIspIt-OpO[Ou^OwdUci$UelUi'Umb!Un^UshYY,$2BeLtu*PPbo?dRiousRr|Rta(R=Sh]/omTe3C!:DMa+MpN)Ng R(gShUght WnY3AlBa>BrisCadeCemb CideCl(eC%a>C*a'ErF&'F(eFyG*eLayLiv M<dMi'Ni$Nti,NyP?tP&dPos.P`PutyRi=ScribeS tSignSkSpair/royTailTe@VelopVi)Vo>3AgramAlAm#dAryCeE'lEtFf G.$Gn.yLemmaNn NosaurRe@RtSag*eScov Sea'ShSmi[S%d Splay/<)V tVideV%)Zzy5Ct%Cum|G~Lph(Ma(Na>NkeyN%OrSeUb!Ve_ftAg#AmaA,-AwEamE[IftIllInkIpI=OpUmY2CkMbNeR(g/T^Ty1Arf1Nam-:G G!RlyRnR`Sily/Sy1HoOlogyOnomy0GeItUca>1F%t0G1GhtTh 2BowD E@r-Eg<tEm|Eph<tEvat%I>Se0B?kBodyBra)Er+Ot]PloyPow Pty0Ab!A@DD![D%'EmyErgyF%)Ga+G(eH<)JoyLi,OughR-hRollSu*T Ti*TryVelope1Isode0U$Uip0AA'OdeOs]R%Upt0CapeSayS&)Ta>0Ern$H-s1Id&)IlOkeOl=1A@Amp!Ce[Ch<+C.eCludeCu'Ecu>Erci'Hau,Hib.I!I,ItOt-P<dPe@Pi*Pla(Po'P*[T&dTra0EEbrow:Br-CeCultyDeIntI`~L'MeMilyMousNNcyNtasyRmSh]TT$Th TigueUltV%.e3Atu*Bru?yD $EEdElMa!N)/iv$T^V W3B Ct]EldGu*LeLmLt N$NdNeNg NishReRmR,Sc$ShTT}[X_gAmeAshAtAv%EeIghtIpOatO{O%Ow UidUshY_mCusGIlLd~owOdOtR)Re,R+tRkRtu}RumRw?dSsil/ UndX_gi!AmeEqu|EshI&dIn+OgOntO,OwnOz&U.2ElNNnyRna)RyTu*:D+tInLaxy~ yMePRa+Rba+Rd&Rl-Rm|SSpTeTh U+Ze3N $NiusN*Nt!Nu(e/u*2O,0AntFtGg!Ng RaffeRlVe_dAn)A*A[IdeImp'ObeOomOryO=OwUe_tDde[LdOdO'RillaSpelSsipV nWn_bA)A(AntApeA[Av.yEatE&IdIefItOc yOupOwUnt_rdE[IdeIltIt?N3M:B.IrLfMm M, NdPpyRb%RdRshR=,TVeWkZ?d3AdAl`ArtAvyD+hogIght~oLmetLpNRo3Dd&Gh~NtPRe/%y5BbyCkeyLdLeLiday~owMeNeyOdPeRnRr%R'Sp.$/TelUrV 5BGeM<Mb!M%Nd*dNgryNtRd!RryRtSb<d3Brid:1EOn0EaEntifyLe2N%e4LLeg$L}[0A+Ita>M&'Mu}Pa@Po'Pro=Pul'0ChCludeComeC*a'DexD-a>Do%Du,ryF<tFl-tF%mHa!H .Iti$Je@JuryMa>N Noc|PutQuiryS<eSe@SideSpi*/$lTa@T e,ToVe,V.eVol=3On0L<dOla>Sue0Em1Ory:CketGu?RZz3AlousAns~yWel9BInKeUr}yY5D+I)MpNg!Ni%Nk/:Ng?oo3EnEpT^upY3CkDD}yNdNgdomSsTT^&TeTt&Wi4EeIfeO{Ow:BBelB%Dd DyKeMpNgua+PtopR+T T(UghUndryVaWWnWsu.Y Zy3Ad AfArnA=Ctu*FtGG$G&dIsu*M#NdNg`NsOp?dSs#Tt Vel3ArB tyBr?yC&'FeFtGhtKeMbM.NkOnQuid/Tt!VeZ?d5AdAnB, C$CkG-NelyNgOpTt yUdUn+VeY$5CkyGga+Mb N?N^Xury3R-s:Ch(eDG-G}tIdIlInJ%KeMm$NNa+Nda>NgoNs]Nu$P!Rb!R^Rg(R(eRketRria+SkSs/ T^T i$ThTrixTt XimumZe3AdowAnAsu*AtCh<-D$DiaLodyLtMb M%yNt]NuRcyR+R.RryShSsa+T$Thod3Dd!DnightLk~]M-NdNimumN%Nu>Rac!Rr%S ySs/akeXXedXtu*5Bi!DelDifyMM|N.%NkeyN, N`OnR$ReRn(gSqu.oTh T]T%Unta(U'VeVie5ChFf(LeLtiplySc!SeumShroomS-/Tu$3Self/ yTh:I=MePk(Rrow/yT]Tu*3ArCkEdGati=G!@I` PhewR=/TTw%kUtr$V WsXt3CeGht5B!I'M(eeOd!Rm$R`SeTab!TeTh(gTi)VelW5C!?Mb R'T:K0EyJe@Li+Scu*S =Ta(Vious0CurE<Tob 0Or1FF Fi)T&2L1Ay0DI=Ymp-0It0CeEI#L(eLy1EnEraIn]Po'T]1An+B.Ch?dD D(?yG<I|Ig($Ph<0Tr-h0H 0Tdo%T TputTside0AlEnEr0NN 0Yg&0/ 0O}:CtDd!GeIrLa)LmNdaNelN-N` P RadeR|RkRrotRtySsT^ThTi|TrolTt nU'VeYm|3A)AnutArAs<tL-<NN$tyNcilOp!Pp Rfe@Rm.Rs#T2O}OtoRa'Ys-$0AnoCn-Ctu*E)GGe#~LotNkO} Pe/olT^Zza_)A}tA,-A>AyEa'Ed+U{UgUn+2EmEtIntL?LeLi)NdNyOlPul?Rt]S.]Ssib!/TatoTt yV tyWd W _@i)Ai'Ed-tEf Epa*Es|EttyEv|I)IdeIm?yIntI%.yIs#Iva>IzeOb!mO)[Odu)Of.OgramOje@Omo>OofOp tyOsp O>@OudOvide2Bl-Dd(g~LpL'Mpk(N^PilPpyR^a'R.yRpo'R'ShTZz!3Ramid:99Al.yAntumArt E,]I{ItIzO>:Bb.Cco#CeCkD?DioIlInI'~yMpN^NdomN+PidReTeTh V&WZ%3AdyAlAs#BelBuildC$lCei=CipeC%dCyc!Du)F!@F%mFu'G]G*tGul?Je@LaxLea'LiefLyMa(Memb M(dMo=Nd NewNtOp&PairPeatPla)P%tQui*ScueSemb!Si,Sour)Sp#'SultTi*T*atTurnUn]Ve$ViewW?d2Y`m0BBb#CeChDeD+F!GhtGidNgOtPp!SkTu$V$V 5AdA,BotBu,CketM<)OfOkieOmSeTa>UghUndU>Y$5Bb DeGLeNNwayR$:DDd!D}[FeIlLadLm#L#LtLu>MeMp!NdTisfyToshiU)Usa+VeY1A!AnA*Att E}HemeHoolI&)I[%sOrp]OutRapRe&RiptRub1AAr^As#AtC#dC*tCt]Cur.yEdEkGm|Le@~M(?Ni%N'Nt&)RiesRvi)Ss]Tt!TupV&_dowAftAllowA*EdEllEriffIeldIftI}IpIv O{OeOotOpOrtOuld O=RimpRugUff!Y0Bl(gCkDeE+GhtGnL|Lk~yLv Mil?Mp!N)NgR&/ Tua>XZe1A>Et^IIllInIrtUll0AbAmEepEnd I)IdeIghtImOg<OtOwUsh0AllArtI!OkeOo`0A{AkeApIffOw0ApCc Ci$CkDaFtL?Ldi LidLut]L=Me#eNgOnRryRtUlUndUpUr)U`0A)A*Ati$AwnEakEci$EedEllEndH eI)Id IkeInIr.L.OilOns%O#OrtOtRayReadR(gY0Ua*UeezeUir*l_b!AdiumAffA+AirsAmpAndArtA>AyEakEelEmEpE*oI{IllIngO{Oma^O}OolOryO=Ra>gyReetRikeR#gRugg!Ud|UffUmb!Y!0Bje@Bm.BwayC)[ChDd&Ff G?G+,ItMm NNnyN'tP PplyP*meReRfa)R+Rpri'RroundR=ySpe@/a(1AllowAmpApArmE?EetIftImIngIt^Ord1MbolMptomRup/em:B!Ck!GIlL|LkNkPeR+tSk/eTtooXi3A^Am~NN<tNnisNtRm/Xt_nkAtEmeEnE%yE*EyIngIsOughtReeRi=RowUmbUnd 0CketDeG LtMb MeNyPRedSsueT!5A,BaccoDayDdl EGe` I!tK&MatoM%rowNeNgueNightOlO`PP-Pp!R^RnadoRtoi'SsT$Uri,W?dW WnY_{AdeAff-Ag-A(Ansf ApAshA=lAyEatEeEndI$IbeI{Igg ImIpOphyOub!U{UeUlyUmpetU,U`Y2BeIt]Mb!NaN}lRkeyRnRt!1El=EntyI)InI,O1PeP-$:5Ly5B*lla0Ab!Awa*C!Cov D DoFairFoldHappyIf%mIqueItIv 'KnownLo{TilUsu$Veil1Da>GradeHoldOnP Set1B<Ge0A+EEdEfulE![U$0Il.y:C<tCuumGueLidL!yL=NNishP%Rious/Ult3H-!L=tNd%Ntu*NueRbRifyRs]RyS'lT <3Ab!Br<tCiousCt%yDeoEw~a+Nta+Ol(Rtu$RusSaS.Su$T$Vid5C$I)IdLc<oLumeTeYa+:GeG#ItLk~LnutNtRfa*RmRri%ShSp/eT VeY3Al`Ap#ArA'lA` BDd(gEk&dIrdLcome/T_!AtEatEelEnE*IpIsp 0DeD`FeLd~NNdowNeNgNkNn Nt ReSdomSeShT}[5LfM<Nd OdOlRdRkRldRryR`_pE{E,!I,I>Ong::Rd3Ar~ow9UUngU`:3BraRo9NeO",xs="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60";let Pn=null;class Je extends rs{constructor(){super("en",as,xs)}static wordlist(){return Pn==null&&(Pn=new Je),Pn}}function Tr(n){return(1<<n)-1<<8-n&255}function ss(n){return(1<<n)-1&255}function Tn(n,e){Kn("NFKD"),e==null&&(e=Je.wordlist());const t=e.split(n);b(t.length%3===0&&t.length>=12&&t.length<=24,"invalid mnemonic length","mnemonic","[ REDACTED ]");const c=new Uint8Array(Math.ceil(11*t.length/8));let r=0;for(let f=0;f<t.length;f++){let o=e.getWordIndex(t[f].normalize("NFKD"));b(o>=0,`invalid mnemonic word at index ${f}`,"mnemonic","[ REDACTED ]");for(let d=0;d<11;d++)o&1<<10-d&&(c[r>>3]|=1<<7-r%8),r++}const a=32*t.length/3,x=t.length/3,s=Tr(x),i=g(le(c.slice(0,a/8)))[0]&s;return b(i===(c[c.length-1]&s),"invalid mnemonic checksum","mnemonic","[ REDACTED ]"),m(c.slice(0,a/8))}function Nn(n,e){b(n.length%4===0&&n.length>=16&&n.length<=32,"invalid entropy size","entropy","[ REDACTED ]"),e==null&&(e=Je.wordlist());const t=[0];let c=11;for(let x=0;x<n.length;x++)c>8?(t[t.length-1]<<=8,t[t.length-1]|=n[x],c-=8):(t[t.length-1]<<=c,t[t.length-1]|=n[x]>>8-c,t.push(n[x]&ss(8-c)),c+=3);const r=n.length/4,a=parseInt(le(n).substring(2,4),16)&Tr(r);return t[t.length-1]<<=r,t[t.length-1]|=a>>8-r,e.join(t.map(x=>e.getWord(x)))}const vn={};class N0{constructor(e,t,c,r,a){U(this,"phrase");U(this,"password");U(this,"wordlist");U(this,"entropy");r==null&&(r=""),a==null&&(a=Je.wordlist()),mt(e,vn,"Mnemonic"),ce(this,{phrase:c,password:r,wordlist:a,entropy:t})}computeSeed(){const e=We("mnemonic"+this.password,"NFKD");return He(We(this.phrase,"NFKD"),e,2048,64,"sha512")}static fromPhrase(e,t,c){const r=Tn(e,c);return e=Nn(g(r),c),new N0(vn,r,e,t,c)}static fromEntropy(e,t,c){const r=g(e,"entropy"),a=Nn(r,c);return new N0(vn,m(r),a,t,c)}static entropyToPhrase(e,t){const c=g(e,"entropy");return Nn(c,t)}static phraseToEntropy(e,t){return Tn(e,t)}static isValidMnemonic(e,t){try{return Tn(e,t),!0}catch{}return!1}}/*! MIT License. Copyright 2015-2022 Richard Moore <me@ricmoo.com>. See LICENSE.txt. */var W=globalThis&&globalThis.__classPrivateFieldGet||function(n,e,t,c){if(t==="a"&&!c)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!c:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?c:t==="a"?c.call(n):c?c.value:e.get(n)},kn=globalThis&&globalThis.__classPrivateFieldSet||function(n,e,t,c,r){if(c==="m")throw new TypeError("Private method is not writable");if(c==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return c==="a"?r.call(n,t):r?r.value=t:e.set(n,t),t},Vt,xe,Ee;const is={16:10,24:12,32:14},fs=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],se=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],jt=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],os=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],ds=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],bs=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],ls=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],us=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],hs=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],ys=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],ps=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],gs=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],ms=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],ws=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],As=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function Rn(n){const e=[];for(let t=0;t<n.length;t+=4)e.push(n[t]<<24|n[t+1]<<16|n[t+2]<<8|n[t+3]);return e}class On{get key(){return W(this,Vt,"f").slice()}constructor(e){if(Vt.set(this,void 0),xe.set(this,void 0),Ee.set(this,void 0),!(this instanceof On))throw Error("AES must be instanitated with `new`");kn(this,Vt,new Uint8Array(e),"f");const t=is[this.key.length];if(t==null)throw new TypeError("invalid key size (must be 16, 24 or 32 bytes)");kn(this,Ee,[],"f"),kn(this,xe,[],"f");for(let o=0;o<=t;o++)W(this,Ee,"f").push([0,0,0,0]),W(this,xe,"f").push([0,0,0,0]);const c=(t+1)*4,r=this.key.length/4,a=Rn(this.key);let x;for(let o=0;o<r;o++)x=o>>2,W(this,Ee,"f")[x][o%4]=a[o],W(this,xe,"f")[t-x][o%4]=a[o];let s=0,i=r,f;for(;i<c;){if(f=a[r-1],a[0]^=se[f>>16&255]<<24^se[f>>8&255]<<16^se[f&255]<<8^se[f>>24&255]^fs[s]<<24,s+=1,r!=8)for(let u=1;u<r;u++)a[u]^=a[u-1];else{for(let u=1;u<r/2;u++)a[u]^=a[u-1];f=a[r/2-1],a[r/2]^=se[f&255]^se[f>>8&255]<<8^se[f>>16&255]<<16^se[f>>24&255]<<24;for(let u=r/2+1;u<r;u++)a[u]^=a[u-1]}let o=0,d,l;for(;o<r&&i<c;)d=i>>2,l=i%4,W(this,Ee,"f")[d][l]=a[o],W(this,xe,"f")[t-d][l]=a[o++],i++}for(let o=1;o<t;o++)for(let d=0;d<4;d++)f=W(this,xe,"f")[o][d],W(this,xe,"f")[o][d]=gs[f>>24&255]^ms[f>>16&255]^ws[f>>8&255]^As[f&255]}encrypt(e){if(e.length!=16)throw new TypeError("invalid plaintext size (must be 16 bytes)");const t=W(this,Ee,"f").length-1,c=[0,0,0,0];let r=Rn(e);for(let s=0;s<4;s++)r[s]^=W(this,Ee,"f")[0][s];for(let s=1;s<t;s++){for(let i=0;i<4;i++)c[i]=os[r[i]>>24&255]^ds[r[(i+1)%4]>>16&255]^bs[r[(i+2)%4]>>8&255]^ls[r[(i+3)%4]&255]^W(this,Ee,"f")[s][i];r=c.slice()}const a=new Uint8Array(16);let x=0;for(let s=0;s<4;s++)x=W(this,Ee,"f")[t][s],a[4*s]=(se[r[s]>>24&255]^x>>24)&255,a[4*s+1]=(se[r[(s+1)%4]>>16&255]^x>>16)&255,a[4*s+2]=(se[r[(s+2)%4]>>8&255]^x>>8)&255,a[4*s+3]=(se[r[(s+3)%4]&255]^x)&255;return a}decrypt(e){if(e.length!=16)throw new TypeError("invalid ciphertext size (must be 16 bytes)");const t=W(this,xe,"f").length-1,c=[0,0,0,0];let r=Rn(e);for(let s=0;s<4;s++)r[s]^=W(this,xe,"f")[0][s];for(let s=1;s<t;s++){for(let i=0;i<4;i++)c[i]=us[r[i]>>24&255]^hs[r[(i+3)%4]>>16&255]^ys[r[(i+2)%4]>>8&255]^ps[r[(i+1)%4]&255]^W(this,xe,"f")[s][i];r=c.slice()}const a=new Uint8Array(16);let x=0;for(let s=0;s<4;s++)x=W(this,xe,"f")[t][s],a[4*s]=(jt[r[s]>>24&255]^x>>24)&255,a[4*s+1]=(jt[r[(s+3)%4]>>16&255]^x>>16)&255,a[4*s+2]=(jt[r[(s+2)%4]>>8&255]^x>>8)&255,a[4*s+3]=(jt[r[(s+1)%4]&255]^x)&255;return a}}Vt=new WeakMap,xe=new WeakMap,Ee=new WeakMap;class Nr{constructor(e,t,c){if(c&&!(this instanceof c))throw new Error(`${e} must be instantiated with "new"`);Object.defineProperties(this,{aes:{enumerable:!0,value:new On(t)},name:{enumerable:!0,value:e}})}}var Wt=globalThis&&globalThis.__classPrivateFieldSet||function(n,e,t,c,r){if(c==="m")throw new TypeError("Private method is not writable");if(c==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return c==="a"?r.call(n,t):r?r.value=t:e.set(n,t),t},v0=globalThis&&globalThis.__classPrivateFieldGet||function(n,e,t,c){if(t==="a"&&!c)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!c:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?c:t==="a"?c.call(n):c?c.value:e.get(n)},st,Ne;class Bn extends Nr{constructor(e,t){if(super("ECC",e,Bn),st.set(this,void 0),Ne.set(this,void 0),t){if(t.length%16)throw new TypeError("invalid iv size (must be 16 bytes)");Wt(this,st,new Uint8Array(t),"f")}else Wt(this,st,new Uint8Array(16),"f");Wt(this,Ne,this.iv,"f")}get iv(){return new Uint8Array(v0(this,st,"f"))}encrypt(e){if(e.length%16)throw new TypeError("invalid plaintext size (must be multiple of 16 bytes)");const t=new Uint8Array(e.length);for(let c=0;c<e.length;c+=16){for(let r=0;r<16;r++)v0(this,Ne,"f")[r]^=e[c+r];Wt(this,Ne,this.aes.encrypt(v0(this,Ne,"f")),"f"),t.set(v0(this,Ne,"f"),c)}return t}decrypt(e){if(e.length%16)throw new TypeError("invalid ciphertext size (must be multiple of 16 bytes)");const t=new Uint8Array(e.length);for(let c=0;c<e.length;c+=16){const r=this.aes.decrypt(e.subarray(c,c+16));for(let a=0;a<16;a++)t[c+a]=r[a]^v0(this,Ne,"f")[a],v0(this,Ne,"f")[a]=e[c+a]}return t}}st=new WeakMap,Ne=new WeakMap;var k0=globalThis&&globalThis.__classPrivateFieldSet||function(n,e,t,c,r){if(c==="m")throw new TypeError("Private method is not writable");if(c==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return c==="a"?r.call(n,t):r?r.value=t:e.set(n,t),t},ie=globalThis&&globalThis.__classPrivateFieldGet||function(n,e,t,c){if(t==="a"&&!c)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!c:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?c:t==="a"?c.call(n):c?c.value:e.get(n)},it,qe,fe;class R0 extends Nr{constructor(e,t){super("CTR",e,R0),it.set(this,void 0),qe.set(this,void 0),fe.set(this,void 0),k0(this,fe,new Uint8Array(16),"f"),ie(this,fe,"f").fill(0),k0(this,it,ie(this,fe,"f"),"f"),k0(this,qe,16,"f"),t==null&&(t=1),typeof t=="number"?this.setCounterValue(t):this.setCounterBytes(t)}get counter(){return new Uint8Array(ie(this,fe,"f"))}setCounterValue(e){if(!Number.isInteger(e)||e<0||e>Number.MAX_SAFE_INTEGER)throw new TypeError("invalid counter initial integer value");for(let t=15;t>=0;--t)ie(this,fe,"f")[t]=e%256,e=Math.floor(e/256)}setCounterBytes(e){if(e.length!==16)throw new TypeError("invalid counter initial Uint8Array value length");ie(this,fe,"f").set(e)}increment(){for(let e=15;e>=0;e--)if(ie(this,fe,"f")[e]===255)ie(this,fe,"f")[e]=0;else{ie(this,fe,"f")[e]++;break}}encrypt(e){var t,c;const r=new Uint8Array(e);for(let a=0;a<r.length;a++)ie(this,qe,"f")===16&&(k0(this,it,this.aes.encrypt(ie(this,fe,"f")),"f"),k0(this,qe,0,"f"),this.increment()),r[a]^=ie(this,it,"f")[k0(this,qe,(c=ie(this,qe,"f"),t=c++,c),"f"),t];return r}decrypt(e){return this.encrypt(e)}}it=new WeakMap,qe=new WeakMap,fe=new WeakMap;function Es(n){if(n.length<16)throw new TypeError("PKCS#7 invalid length");const e=n[n.length-1];if(e>16)throw new TypeError("PKCS#7 padding byte out of range");const t=n.length-e;for(let c=0;c<e;c++)if(n[t+c]!==e)throw new TypeError("PKCS#7 invalid padding byte");return new Uint8Array(n.subarray(0,t))}function vr(n){return typeof n=="string"&&!n.startsWith("0x")&&(n="0x"+n),Ve(n)}function ft(n,e){for(n=String(n);n.length<e;)n="0"+n;return n}function ot(n){return typeof n=="string"?We(n,"NFKC"):Ve(n)}function M(n,e){const t=e.match(/^([a-z0-9$_.-]*)(:([a-z]+))?(!)?$/i);b(t!=null,"invalid path","path",e);const c=t[1],r=t[3],a=t[4]==="!";let x=n;for(const s of c.toLowerCase().split(".")){if(Array.isArray(x)){if(!s.match(/^[0-9]+$/))break;x=x[parseInt(s)]}else if(typeof x=="object"){let i=null;for(const f in x)if(f.toLowerCase()===s){i=x[f];break}x=i}else x=null;if(x==null)break}if(b(!a||x!=null,"missing required value","path",c),r&&x!=null){if(r==="int"){if(typeof x=="string"&&x.match(/^-?[0-9]+$/))return parseInt(x);if(Number.isSafeInteger(x))return x}if(r==="number"&&typeof x=="string"&&x.match(/^-?[0-9.]*$/))return parseFloat(x);if(r==="data"&&typeof x=="string")return vr(x);if(r==="array"&&Array.isArray(x)||r===typeof x)return x;b(!1,`wrong type found for ${r} `,"path",c)}return x}const kr="m/44'/60'/0'/0/0";function Rr(n){try{const e=JSON.parse(n);if((e.version!=null?parseInt(e.version):0)===3)return!0}catch{}return!1}function Is(n,e,t){if(M(n,"crypto.cipher:string")==="aes-128-ctr"){const r=M(n,"crypto.cipherparams.iv:data!"),a=new R0(e,r);return m(a.decrypt(t))}N(!1,"unsupported cipher","UNSUPPORTED_OPERATION",{operation:"decrypt"})}function Zt(n,e){const t=g(e),c=M(n,"crypto.ciphertext:data!"),r=m(G(V([t.slice(16,32),c]))).substring(2);b(r===M(n,"crypto.mac:string!").toLowerCase(),"incorrect password","password","[ REDACTED ]");const a=Is(n,t.slice(0,16),c),x=xt(a);if(n.address){let f=n.address.toLowerCase();f.startsWith("0x")||(f="0x"+f),b(Q(f)===x,"keystore address/privateKey mismatch","address",n.address)}const s={address:x,privateKey:a};if(M(n,"x-ethers.version:string")==="0.1"){const f=t.slice(32,64),o=M(n,"x-ethers.mnemonicCiphertext:data!"),d=M(n,"x-ethers.mnemonicCounter:data!"),l=new R0(f,d);s.mnemonic={path:M(n,"x-ethers.path:string")||kr,locale:M(n,"x-ethers.locale:string")||"en",entropy:m(g(l.decrypt(o)))}}return s}function Or(n){const e=M(n,"crypto.kdf:string");if(e&&typeof e=="string"){if(e.toLowerCase()==="scrypt"){const t=M(n,"crypto.kdfparams.salt:data!"),c=M(n,"crypto.kdfparams.n:int!"),r=M(n,"crypto.kdfparams.r:int!"),a=M(n,"crypto.kdfparams.p:int!");b(c>0&&(c&c-1)===0,"invalid kdf.N","kdf.N",c),b(r>0&&a>0,"invalid kdf","kdf",e);const x=M(n,"crypto.kdfparams.dklen:int!");return b(x===32,"invalid kdf.dklen","kdf.dflen",x),{name:"scrypt",salt:t,N:c,r,p:a,dkLen:64}}else if(e.toLowerCase()==="pbkdf2"){const t=M(n,"crypto.kdfparams.salt:data!"),c=M(n,"crypto.kdfparams.prf:string!"),r=c.split("-").pop();b(r==="sha256"||r==="sha512","invalid kdf.pdf","kdf.pdf",c);const a=M(n,"crypto.kdfparams.c:int!"),x=M(n,"crypto.kdfparams.dklen:int!");return b(x===32,"invalid kdf.dklen","kdf.dklen",x),{name:"pbkdf2",salt:t,count:a,dkLen:x,algorithm:r}}}b(!1,"unsupported key-derivation function","kdf",e)}function Ss(n,e){const t=JSON.parse(n),c=ot(e),r=Or(t);if(r.name==="pbkdf2"){const{salt:d,count:l,dkLen:u,algorithm:y}=r,p=He(c,d,l,u,y);return Zt(t,p)}N(r.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:r});const{salt:a,N:x,r:s,p:i,dkLen:f}=r,o=m0(c,a,x,s,i,f);return Zt(t,o)}function Br(n){return new Promise(e=>{setTimeout(()=>{e()},n)})}async function Ps(n,e,t){const c=JSON.parse(n),r=ot(e),a=Or(c);if(a.name==="pbkdf2"){t&&(t(0),await Br(0));const{salt:l,count:u,dkLen:y,algorithm:p}=a,I=He(r,l,u,y,p);return t&&(t(1),await Br(0)),Zt(c,I)}N(a.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:a});const{salt:x,N:s,r:i,p:f,dkLen:o}=a,d=await g0(r,x,s,i,f,o,t);return Zt(c,d)}function Ur(n){const e=n.salt!=null?g(n.salt,"options.salt"):Pe(32);let t=1<<17,c=8,r=1;return n.scrypt&&(n.scrypt.N&&(t=n.scrypt.N),n.scrypt.r&&(c=n.scrypt.r),n.scrypt.p&&(r=n.scrypt.p)),b(typeof t=="number"&&t>0&&Number.isSafeInteger(t)&&(BigInt(t)&BigInt(t-1))===BigInt(0),"invalid scrypt N parameter","options.N",t),b(typeof c=="number"&&c>0&&Number.isSafeInteger(c),"invalid scrypt r parameter","options.r",c),b(typeof r=="number"&&r>0&&Number.isSafeInteger(r),"invalid scrypt p parameter","options.p",r),{name:"scrypt",dkLen:32,salt:e,N:t,r:c,p:r}}function Cr(n,e,t,c){const r=g(t.privateKey,"privateKey"),a=c.iv!=null?g(c.iv,"options.iv"):Pe(16);b(a.length===16,"invalid options.iv length","options.iv",c.iv);const x=c.uuid!=null?g(c.uuid,"options.uuid"):Pe(16);b(x.length===16,"invalid options.uuid length","options.uuid",c.iv);const s=n.slice(0,16),i=n.slice(16,32),f=new R0(s,a),o=g(f.encrypt(r)),d=G(V([i,o])),l={address:t.address.substring(2).toLowerCase(),id:xa(x),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:m(a).substring(2)},ciphertext:m(o).substring(2),kdf:"scrypt",kdfparams:{salt:m(e.salt).substring(2),n:e.N,dklen:32,p:e.p,r:e.r},mac:d.substring(2)}};if(t.mnemonic){const u=c.client!=null?c.client:`ethers/${L}`,y=t.mnemonic.path||kr,p=t.mnemonic.locale||"en",I=n.slice(32,64),S=g(t.mnemonic.entropy,"account.mnemonic.entropy"),F=Pe(16),w=new R0(I,F),K=g(w.encrypt(S)),P=new Date,ne="UTC--"+(P.getUTCFullYear()+"-"+ft(P.getUTCMonth()+1,2)+"-"+ft(P.getUTCDate(),2)+"T"+ft(P.getUTCHours(),2)+"-"+ft(P.getUTCMinutes(),2)+"-"+ft(P.getUTCSeconds(),2)+".0Z")+"--"+l.address;l["x-ethers"]={client:u,gethFilename:ne,path:y,locale:p,mnemonicCounter:m(F).substring(2),mnemonicCiphertext:m(K).substring(2),version:"0.1"}}return JSON.stringify(l)}function Lr(n,e,t){t==null&&(t={});const c=ot(e),r=Ur(t),a=m0(c,r.salt,r.N,r.r,r.p,64);return Cr(g(a),r,n,t)}async function Fr(n,e,t){t==null&&(t={});const c=ot(e),r=Ur(t),a=await g0(c,r.salt,r.N,r.r,r.p,64,t.progressCallback);return Cr(g(a),r,n,t)}const Un="m/44'/60'/0'/0/0",Ts=new Uint8Array([66,105,116,99,111,105,110,32,115,101,101,100]),Ke=2147483648,Ns=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),vs="0123456789abcdef";function Yt(n,e){let t="";for(;n;)t=vs[n%16]+t,n=Math.trunc(n/16);for(;t.length<e*2;)t="0"+t;return"0x"+t}function Cn(n){const e=g(n),t=Qt(le(le(e)),0,4),c=V([e,t]);return ca(c)}const Ie={};function Dr(n,e,t,c){const r=new Uint8Array(37);n&Ke?(N(c!=null,"cannot derive child of neutered node","UNSUPPORTED_OPERATION",{operation:"deriveChild"}),r.set(g(c),1)):r.set(g(t));for(let x=24;x>=0;x-=8)r[33+(x>>3)]=n>>24-x&255;const a=g(Ye("sha512",e,r));return{IL:a.slice(0,32),IR:a.slice(32)}}function Hr(n,e){const t=e.split("/");b(t.length>0&&(t[0]==="m"||n.depth>0),"invalid path","path",e),t[0]==="m"&&t.shift();let c=n;for(let r=0;r<t.length;r++){const a=t[r];if(a.match(/^[0-9]+'$/)){const x=parseInt(a.substring(0,a.length-1));b(x<Ke,"invalid path index",`path[${r}]`,a),c=c.deriveChild(Ke+x)}else if(a.match(/^[0-9]+$/)){const x=parseInt(a);b(x<Ke,"invalid path index",`path[${r}]`,a),c=c.deriveChild(x)}else b(!1,"invalid path component",`path[${r}]`,a)}return c}const ye=class ye extends Kt{constructor(t,c,r,a,x,s,i,f,o){super(c,o);O(this,yt);U(this,"publicKey");U(this,"fingerprint");U(this,"parentFingerprint");U(this,"mnemonic");U(this,"chainCode");U(this,"path");U(this,"index");U(this,"depth");mt(t,Ie,"HDNodeWallet"),ce(this,{publicKey:c.compressedPublicKey});const d=Qt(y0(le(this.publicKey)),0,4);ce(this,{parentFingerprint:r,fingerprint:d,chainCode:a,path:x,index:s,depth:i}),ce(this,{mnemonic:f})}connect(t){return new ye(Ie,this.signingKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.mnemonic,t)}async encrypt(t,c){return await Fr(q(this,yt,_n).call(this),t,{progressCallback:c})}encryptSync(t){return Lr(q(this,yt,_n).call(this),t)}get extendedKey(){return N(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),Cn(V(["0x0488ADE4",Yt(this.depth,1),this.parentFingerprint,Yt(this.index,4),this.chainCode,V(["0x00",this.privateKey])]))}hasPath(){return this.path!=null}neuter(){return new bt(Ie,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.provider)}deriveChild(t){const c=me(t,"index");b(c<=4294967295,"invalid index","index",c);let r=this.path;r&&(r+="/"+(c&~Ke),c&Ke&&(r+="'"));const{IR:a,IL:x}=Dr(c,this.chainCode,this.publicKey,this.privateKey),s=new Ae(u0((Zn(x)+BigInt(this.privateKey))%Ns,32));return new ye(Ie,s,this.fingerprint,m(a),r,c,this.depth+1,this.mnemonic,this.provider)}derivePath(t){return Hr(this,t)}static fromExtendedKey(t){const c=re(ra(t));b(c.length===82||Cn(c.slice(0,78))===t,"invalid extended key","extendedKey","[ REDACTED ]");const r=c[4],a=m(c.slice(5,9)),x=parseInt(m(c.slice(9,13)).substring(2),16),s=m(c.slice(13,45)),i=c.slice(45,78);switch(m(c.slice(0,4))){case"0x0488b21e":case"0x043587cf":{const f=m(i);return new bt(Ie,xt(f),f,a,s,null,x,r,null)}case"0x0488ade4":case"0x04358394 ":if(i[0]!==0)break;return new ye(Ie,new Ae(i.slice(1)),a,s,null,x,r,null,null)}b(!1,"invalid extended key prefix","extendedKey","[ REDACTED ]")}static createRandom(t,c,r){var x;t==null&&(t=""),c==null&&(c=Un),r==null&&(r=Je.wordlist());const a=N0.fromEntropy(Pe(16),t,r);return q(x=ye,n0,gt).call(x,a.computeSeed(),a).derivePath(c)}static fromMnemonic(t,c){var r;return c||(c=Un),q(r=ye,n0,gt).call(r,t.computeSeed(),t).derivePath(c)}static fromPhrase(t,c,r,a){var s;c==null&&(c=""),r==null&&(r=Un),a==null&&(a=Je.wordlist());const x=N0.fromPhrase(t,c,a);return q(s=ye,n0,gt).call(s,x.computeSeed(),x).derivePath(r)}static fromSeed(t){var c;return q(c=ye,n0,gt).call(c,t,null)}};yt=new WeakSet,_n=function(){const t={address:this.address,privateKey:this.privateKey},c=this.mnemonic;return this.path&&c&&c.wordlist.locale==="en"&&c.password===""&&(t.mnemonic={path:this.path,locale:"en",entropy:c.entropy}),t},n0=new WeakSet,gt=function(t,c){b(Vn(t),"invalid seed","seed","[REDACTED]");const r=g(t,"seed");b(r.length>=16&&r.length<=64,"invalid seed","seed","[REDACTED]");const a=g(Ye("sha512",Ts,r)),x=new Ae(m(a.slice(0,32)));return new ye(Ie,x,"0x00000000",m(a.slice(32)),"m",0,0,c,null)},O(ye,n0);let dt=ye;class bt extends Sn{constructor(t,c,r,a,x,s,i,f,o){super(c,o);U(this,"publicKey");U(this,"fingerprint");U(this,"parentFingerprint");U(this,"chainCode");U(this,"path");U(this,"index");U(this,"depth");mt(t,Ie,"HDNodeVoidWallet"),ce(this,{publicKey:r});const d=Qt(y0(le(r)),0,4);ce(this,{publicKey:r,fingerprint:d,parentFingerprint:a,chainCode:x,path:s,index:i,depth:f})}connect(t){return new bt(Ie,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,t)}get extendedKey(){return N(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),Cn(V(["0x0488B21E",Yt(this.depth,1),this.parentFingerprint,Yt(this.index,4),this.chainCode,this.publicKey]))}hasPath(){return this.path!=null}deriveChild(t){const c=me(t,"index");b(c<=4294967295,"invalid index","index",c);let r=this.path;r&&(r+="/"+(c&~Ke),c&Ke&&(r+="'"));const{IR:a,IL:x}=Dr(c,this.chainCode,this.publicKey,null),s=Ae.addPoints(x,this.publicKey,!0),i=xt(s);return new bt(Ie,i,s,this.fingerprint,m(a),r,c,this.depth+1,this.provider)}derivePath(t){return Hr(this,t)}}function $r(n){try{if(JSON.parse(n).encseed)return!0}catch{}return!1}function Gr(n,e){const t=JSON.parse(n),c=ot(e),r=Q(M(t,"ethaddr:string!")),a=vr(M(t,"encseed:string!"));b(a&&a.length%16===0,"invalid encseed","json",n);const x=g(He(c,c,2e3,32,"sha256")).slice(0,16),s=a.slice(0,16),i=a.slice(16),f=new Bn(x,s),o=Es(g(f.decrypt(i)));let d="";for(let l=0;l<o.length;l++)d+=String.fromCharCode(o[l]);return{address:r,privateKey:Ht(d)}}function _r(n){return new Promise(e=>{setTimeout(()=>{e()},n)})}const c0=class c0 extends Kt{constructor(e,t){typeof e=="string"&&!e.startsWith("0x")&&(e="0x"+e);let c=typeof e=="string"?new Ae(e):e;super(c,t)}connect(e){return new c0(this.signingKey,e)}async encrypt(e,t){const c={address:this.address,privateKey:this.privateKey};return await Fr(c,e,{progressCallback:t})}encryptSync(e){const t={address:this.address,privateKey:this.privateKey};return Lr(t,e)}static async fromEncryptedJson(e,t,c){var a;let r=null;return Rr(e)?r=await Ps(e,t,c):$r(e)&&(c&&(c(0),await _r(0)),r=Gr(e,t),c&&(c(1),await _r(0))),q(a=c0,pt,Mn).call(a,r)}static fromEncryptedJsonSync(e,t){var r;let c=null;return Rr(e)?c=Ss(e,t):$r(e)?c=Gr(e,t):b(!1,"invalid JSON wallet","json","[ REDACTED ]"),q(r=c0,pt,Mn).call(r,c)}static createRandom(e){const t=dt.createRandom();return e?t.connect(e):t}static fromPhrase(e,t){const c=dt.fromPhrase(e);return t?c.connect(t):c}};pt=new WeakSet,Mn=function(e){if(b(e,"invalid JSON wallet","json","[ REDACTED ]"),"mnemonic"in e&&e.mnemonic&&e.mnemonic.locale==="en"){const c=N0.fromEntropy(e.mnemonic.entropy),r=dt.fromMnemonic(c,e.mnemonic.path);if(r.address===e.address&&r.privateKey===e.privateKey)return r;console.log("WARNING: JSON mismatch address/privateKey != mnemonic; fallback onto private key")}const t=new c0(e.privateKey);return b(t.address===e.address,"address/privateKey mismatch","json","[ REDACTED ]"),t},O(c0,pt);let Ln=c0;const Mr="fragment",Kr="|";function zr(n){const e=new Uint8Array(n);let t="";return e.map(c=>{let r=c.toString(16);return r.length===1&&(r="0"+r),t+=r,c.toString(16)}),t}function Fn(n,e=32){const t=new Uint8Array(e);let c=0;for(;n;){const r=n.slice(0,2);n=n.slice(2),t[c]=parseInt(r,16),c++}return t}async function ks(n,e){const t=Mr+Kr+n,c=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",c),a=Fn("6531fe7437af1902b61766f8b1359386ccdf9032cbbf10ad8b0a50d7ce1d8dee",32).buffer,x=zr(r),s={name:"AES-GCM",iv:a},i=await crypto.subtle.importKey("raw",r,s,!0,["encrypt","decrypt"]),f=new TextEncoder().encode(t),o=await crypto.subtle.encrypt(s,i,f);return[zr(o),x]}async function Rs(n,e){const t=Fn("6531fe7437af1902b61766f8b1359386ccdf9032cbbf10ad8b0a50d7ce1d8dee",32).buffer,c=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",c),a={name:"AES-GCM",iv:t},x=await crypto.subtle.importKey("raw",r,a,!1,["decrypt"]),s=Fn(n,n.length/2);try{const i=await crypto.subtle.decrypt(a,x,s.buffer),o=new TextDecoder().decode(i).split(Kr);if(o[0]!==Mr)throw new Error("Fragment Recover Failed");return o.shift(),o[0]}catch{throw new Error("Fragment Recover Failed")}}const Vr="t";class O0{constructor(e,t){U(this,"x");U(this,"y");this.x=e,this.y=t}static toRawFormat(e){const t=e.split(Vr);return new O0(BigInt("0x"+t[0]),BigInt("0x"+t[1]))}static toHexString(e,t){const c=e.toString(16),r=t.toString(16);return c+Vr+r}}class jr{constructor(e,t){U(this,"degree");U(this,"secret");U(this,"params");this.secret=t,this.degree=e-1;const c=new BigUint64Array(this.degree),r=window.crypto.getRandomValues(c);this.params=[...r],this.params.push(t),this.degree||(this.params=null)}run(e,t=BigInt(this.degree)){if(typeof t!="bigint")throw new Error('Validation Error:: Wrong Type for param "deg"');if(t===0n)return this.params[this.params.length-1];const c=this.params[this.degree-Number(t)]*e**t,r=this.run(e,t-1n);return c+r}}class Os extends jr{constructor(e,t){if(typeof t=="string"||typeof t=="number"){if(t=t.toString(),!Be(t))throw new Error("Validation Error: provided secret is not valid type.");t=BigInt(t)}super(e,t)}static createWalletFragment(e,t){if(e<2)throw new Error("Validation Error: Fragment Count is less than 2. You won't be able to recover back.");const r=Ln.createRandom().privateKey,a=new jr(t,BigInt(r)),x=[],s=new BigUint64Array(a.degree+1>=e?a.degree+1:e),i=window.crypto.getRandomValues(s);for(const o of i){const d=a.run(o,BigInt(a.degree));x.push(new O0(o,d))}const f=[];for(let o=0;o<x.length;o++)f[o]=x[o].x.toString(16)+"Z"+x[o].y.toString(16);return f}static recover(e,t=0n){const c=e.map(i=>{const f=i.split("Z");return new O0(BigInt("0x"+f[0]),BigInt("0x"+f[1]))}),r=c.length;let a=0n;for(let i=0;i<r;i++){let f=c[i].y,o=1n;for(let l=0;l<r;l++)l!=i&&(f=f*(t-c[l].x),o=o*(c[i].x-c[l].x));const d=f*BigInt(Math.pow(10,18))/o;a+=d}const x=a%BigInt(Math.pow(10,18));let s=a/BigInt(Math.pow(10,18));return Number(x.toString()[0])>=5?"0x"+(s+1n).toString(16):"0x"+s.toString(16)}async fragmentize(e=this.degree+1){if(!this.degree)throw new Error("Validation Error:: seems Error occured while constructing Generator.");const t=[],c=new BigUint64Array(this.degree+1>=e?this.degree+1:e),r=window.crypto.getRandomValues(c);for(const x of r){const s=this.run(x,BigInt(this.degree));t.push(new O0(x,s))}const a=[];for(let x=0;x<t.length;x++)a[x]=t[x].x.toString(16)+"Z"+t[x].y.toString(16);return a}static async generateFragmentRecoveryPhase(e,t){const[c]=await ks(e,t);return c}static async recoverFragment(e,t){return await Rs(e,t)}}C.Data=O0,C.Generator=Os,Object.defineProperty(C,Symbol.toStringTag,{value:"Module"})});
